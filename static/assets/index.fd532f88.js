import{S as _e,i as ve,s as $e,e as w,a as m,b,d as y,l as Z,n as Se,c as j,t as oe,f as p,g as et,p as Mt,h as xe,j as G,k as ke,m as Ct,o as Nt,q as ne,r as Ve,u as Re,w as Qe,v as je,x as gn,y as ye,z as We,A as I,B as T,C as Me,D as Ae,E as He,F as Xe,G as H,H as zt,I as O,J as Dt,K as Be,L as R,M as ue,N as jt,O as De,P as Q,Q as kn,R as wn,T as bn,U as tt,V as yn,W as Sn,X as Ge,Y as Mn,Z as Cn}from"./vendor.5e481b06.js";function no(){import("data:text/javascript,")}const Nn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};Nn();const zn="/api";function Ze(t){return`${zn}/${t}`}function we(t,e){return`api:${t}/${e}`}function Dn(t,e){return t.status===200}function jn(t,e){return t.status===404}function An(t,e){return t.status===422}async function Fe(t){const e=await t.json();if(Dn(t))return e;throw jn(t)?new Error(e.detail):An(t)?new Error(JSON.stringify(e.detail)):new Error(JSON.stringify(e))}async function Hn(t,e){const n=await fetch(Ze(t)+"/"+e,{method:"GET"});return await Fe(n)}async function At(t,e,n){const l=new FormData;for(const o in n)l.append(o,n[o]);const s=await fetch(Ze(t)+"/"+e,{method:"POST",body:l});return await Fe(s)}async function Ht(t,e){const n=await fetch(Ze(t)+"/"+e,{method:"DELETE"});return await Fe(n)}async function Xt(t,e,n){const l=new FormData;for(const o in n)l.append(o,n[o]);const s=await fetch(Ze(t)+"/"+e,{method:"PUT",body:l});return await Fe(s)}async function Xn(t){try{return await Hn("folder",t)}catch(e){throw new Error(we("ls",e))}}async function Vn(t,e){try{return confirm(`You want to delete file ${e||t}?`)?(await Ht("file",t),!0):!1}catch(n){throw new Error(we("rm -f",n))}}async function Gn(t,e){try{return confirm(`You want to delete folder ${e||t}?`)?(await Ht("folder",t),!0):!1}catch(n){throw new Error(we("rm -rf",n))}}async function Ye(t,e){const n=document.createElement("a");n.href=Ze("file")+"/"+t,n.download=e,n.click()}async function On(t){const e=prompt("new folder name","new folder");if(!e)return!1;try{return await At("folder",t,{dirname:e}),!0}catch(n){throw new Error(we("mkdir",n))}}function Jn(t){return new Promise((e,n)=>{const l=document.createElement("input");l.type="file",l.addEventListener("change",async()=>{const s=l.files[0];if(!s)return n("file select error");if(confirm(`Do you want to upload ${s.name}`))try{await At("file",t,{file:s}),e(!0)}catch(o){n(we("upload",o))}else e(!1)}),l.click()})}async function Wn(t,e,n="file"){const l=prompt(`replace ${n} name`,e);if(!l)throw new Error(we("rename","new name connot be empty"));if(e===l)return!0;try{return await Xt(n,t,{new_path:t.replace(e,l)}),!0}catch(s){throw new Error(we("rename",s))}}async function Bn(t,e,n="file"){if(confirm(`you want to move ${n} ${t} to ${e}`))try{return await Xt(n,t,{new_path:e}),!0}catch(l){throw new Error(we("rename",l))}else return!1}function lt(t,e,n){const l=t.slice();return l[16]=e[n],l}function ot(t){let e;return{c(){e=w("div"),m(e,"class","loading svelte-1oyazkt")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function qn(t){var k,J;let e,n,l,s,o,i,c=(t[8].length===0?(k=t[2])!=null?k:"FFServer":(J=t[2])!=null?J:"")+"",f,r,a,g,h,v=t[8],d=[];for(let M=0;M<v.length;M+=1)d[M]=st(lt(t,v,M));return{c(){var M,z,N,A,X;e=w("div"),n=w("a"),l=w("i"),i=j(),f=G(c),a=j();for(let V=0;V<d.length;V+=1)d[V].c();m(l,"class",s="iconfont "+(t[8].length===0?(M=t[4])!=null?M:"icon-server":(z=t[3])!=null?z:"icon-folder-fill")+" svelte-1oyazkt"),m(l,"style",o=`color:${t[8].length===0?(N=t[6])!=null?N:"#6dc7ff":(A=t[5])!=null?A:"#ffe896"}`),m(n,"href",r=`/${(X=t[2])!=null?X:"folder"}`),m(n,"class","step main svelte-1oyazkt"),m(e,"class","steps svelte-1oyazkt")},m(M,z){b(M,e,z),p(e,n),p(n,l),p(n,i),p(n,f),p(e,a);for(let N=0;N<d.length;N+=1)d[N].m(e,null);g||(h=[Z(l,"click",ke(t[13])),Ct(Nt.call(null,n))],g=!0)},p(M,z){var N,A,X,V,C,$,_;if(z&280&&s!==(s="iconfont "+(M[8].length===0?(N=M[4])!=null?N:"icon-server":(A=M[3])!=null?A:"icon-folder-fill")+" svelte-1oyazkt")&&m(l,"class",s),z&352&&o!==(o=`color:${M[8].length===0?(X=M[6])!=null?X:"#6dc7ff":(V=M[5])!=null?V:"#ffe896"}`)&&m(l,"style",o),z&260&&c!==(c=(M[8].length===0?(C=M[2])!=null?C:"FFServer":($=M[2])!=null?$:"")+"")&&ne(f,c),z&4&&r!==(r=`/${(_=M[2])!=null?_:"folder"}`)&&m(n,"href",r),z&768){v=M[8];let D;for(D=0;D<v.length;D+=1){const x=lt(M,v,D);d[D]?d[D].p(x,z):(d[D]=st(x),d[D].c(),d[D].m(e,null))}for(;D<d.length;D+=1)d[D].d(1);d.length=v.length}},d(M){M&&y(e),Re(d,M),g=!1,Ve(h)}}}function st(t){let e,n,l,s,o=t[16].path+"",i,c,f,r,a,g,h;function v(){return t[14](t[16])}return{c(){e=w("i"),n=j(),l=w("a"),s=w("div"),i=G(o),c=j(),m(e,"class","iconfont icon-step svelte-1oyazkt"),m(s,"class","svelte-1oyazkt"),m(l,"href",f=t[16].href),m(l,"class","step svelte-1oyazkt"),m(l,"title",r=t[16].path)},m(d,k){b(d,e,k),b(d,n,k),b(d,l,k),p(l,s),p(s,i),p(l,c),g||(h=[Z(l,"click",ke(v)),Ct(a=Nt.call(null,l))],g=!0)},p(d,k){t=d,k&256&&o!==(o=t[16].path+"")&&ne(i,o),k&256&&f!==(f=t[16].href)&&m(l,"href",f),k&256&&r!==(r=t[16].path)&&m(l,"title",r)},d(d){d&&y(e),d&&y(n),d&&y(l),g=!1,Ve(h)}}}function it(t){let e,n,l;return{c(){e=w("div"),e.innerHTML='<i class="iconfont icon-refresh svelte-1oyazkt"></i>',m(e,"class","refresh svelte-1oyazkt")},m(s,o){b(s,e,o),n||(l=Z(e,"click",t[15]),n=!0)},p:Se,d(s){s&&y(e),n=!1,l()}}}function Zn(t){let e,n,l,s,o,i,c,f,r,a=t[0]&&ot();function g(k,J){return qn}let v=g()(t),d=t[1]&&it(t);return{c(){e=w("div"),n=w("div"),l=w("div"),l.innerHTML='<i class="iconfont icon-arrow-up svelte-1oyazkt"></i>',s=j(),o=w("div"),a&&a.c(),i=j(),v.c(),c=j(),d&&d.c(),m(l,"class","step back svelte-1oyazkt"),m(n,"class","steps svelte-1oyazkt"),m(o,"class","path-nav svelte-1oyazkt"),oe(o,"active",Kn),m(e,"class","bar svelte-1oyazkt")},m(k,J){b(k,e,J),p(e,n),p(n,l),p(e,s),p(e,o),a&&a.m(o,null),p(o,i),v.m(o,null),p(e,c),d&&d.m(e,null),f||(r=Z(l,"click",t[11]),f=!0)},p(k,[J]){k[0]?a||(a=ot(),a.c(),a.m(o,i)):a&&(a.d(1),a=null),v.p(k,J),k[1]?d?d.p(k,J):(d=it(k),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:Se,o:Se,d(k){k&&y(e),a&&a.d(),v.d(),d&&d.d(),f=!1,r()}}}let Kn=!1;function Qn(t,e,n){let{pathSteps:l=[]}=e,{loading:s=!1}=e,{showTools:o=!0}=e,{rootPath:i=null}=e,{rootIcon:c=null}=e,{rootSimpleIcon:f=null}=e,{rootIconColor:r=null}=e,{rootSimpleIconColor:a=null}=e,g="",h=[];const v=et(),d=()=>Mt();function k(){g=this.value,n(7,g)}const J=()=>{xe("/folder").then(()=>{v("changeNav")})},M=N=>{xe(N.href).then(()=>{v("changeNav")})},z=()=>v("refresh");return t.$$set=N=>{"pathSteps"in N&&n(10,l=N.pathSteps),"loading"in N&&n(0,s=N.loading),"showTools"in N&&n(1,o=N.showTools),"rootPath"in N&&n(2,i=N.rootPath),"rootIcon"in N&&n(3,c=N.rootIcon),"rootSimpleIcon"in N&&n(4,f=N.rootSimpleIcon),"rootIconColor"in N&&n(5,r=N.rootIconColor),"rootSimpleIconColor"in N&&n(6,a=N.rootSimpleIconColor)},t.$$.update=()=>{if(t.$$.dirty&1028){const N=[];for(let A=0;A<l.length;A++)A===0?N[A]={path:l[A],href:`/${i!=null?i:"folder"}/${l[A]}`}:N[A]={path:l[A],href:`${N[A-1].href}/${l[A]}`};n(8,h=N)}},[s,o,i,c,f,r,a,g,h,v,l,d,k,J,M,z]}class In extends _e{constructor(e){super();ve(this,e,Qn,Zn,$e,{pathSteps:10,loading:0,showTools:1,rootPath:2,rootIcon:3,rootSimpleIcon:4,rootIconColor:5,rootSimpleIconColor:6})}}const Ee={};function he(){for(const t in Ee)Ee[t].set(!1)}function Ie(t,e=!1){const n=Qe(e);Ee[t]=n;const l=Qe(0),s=Qe(0);return[l,s,n]}const pe=Qe(null);function ct(t,e,n){const l=t.slice();return l[21]=e[n],l}const Tn=t=>({}),ft=t=>({});function Rn(t){let e,n,l,s;return{c(){e=w("div"),n=w("div"),n.textContent="File",m(n,"class","tab extra svelte-19r45i3"),oe(n,"active",t[8]),m(e,"class","tabs svelte-19r45i3")},m(o,i){b(o,e,i),p(e,n),l||(s=Z(n,"click",Me(t[15])),l=!0)},p(o,i){i&256&&oe(n,"active",o[8])},d(o){o&&y(e),l=!1,s()}}}function rt(t){let e,n,l,s,o=t[11],i=[];for(let c=0;c<o.length;c+=1)i[c]=at(ct(t,o,c));return{c(){e=w("div"),n=w("div");for(let c=0;c<i.length;c+=1)i[c].c();m(n,"class","menu-wrapper svelte-19r45i3"),m(e,"class","menu svelte-19r45i3")},m(c,f){b(c,e,f),p(e,n);for(let r=0;r<i.length;r+=1)i[r].m(n,null);s=!0},p(c,f){if(f&2816){o=c[11];let r;for(r=0;r<o.length;r+=1){const a=ct(c,o,r);i[r]?i[r].p(a,f):(i[r]=at(a),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},i(c){s||(l&&l.end(1),s=!0)},o(c){l=gn(e,jt,{duration:200}),s=!1},d(c){c&&y(e),Re(i,c),c&&l&&l.end()}}}function at(t){let e,n,l,s=t[21].text+"",o,i,c,f;function r(){return t[16](t[21])}return{c(){e=w("div"),n=w("i"),l=j(),o=G(s),i=j(),m(n,"class","iconfont icon-"+t[21].icon+" svelte-19r45i3"),m(e,"class","menu-item svelte-19r45i3"),oe(e,"disabled",t[21].disabled)},m(a,g){b(a,e,g),p(e,n),p(e,l),p(e,o),p(e,i),c||(f=Z(e,"click",r),c=!0)},p(a,g){t=a},d(a){a&&y(e),c=!1,f()}}}function Ln(t){let e,n,l,s,o,i,c,f,r,a,g,h,v,d;const k=t[13].tabs,J=je(k,t,t[12],ft),M=J||Rn(t);let z=t[8]&&rt(t);function N(C){t[17](C)}let A={pathSteps:t[1],showTools:t[2],rootIcon:t[4],rootPath:t[3],rootSimpleIcon:t[5],rootIconColor:t[6],rootSimpleIconColor:t[7]};t[0]!==void 0&&(A.loading=t[0]),f=new In({props:A}),ye.push(()=>We(f,"loading",N)),f.$on("refresh",t[18]),f.$on("changeNav",t[19]);const X=t[13].default,V=je(X,t,t[12],null);return{c(){e=w("div"),n=w("div"),n.innerHTML=`<i class="iconfont icon-folder-fill header-icon svelte-19r45i3"></i> 
    <i class="iconfont icon-divider header-divider svelte-19r45i3"></i>
    FFServer`,l=j(),s=w("div"),M&&M.c(),o=j(),i=w("div"),z&&z.c(),c=j(),I(f.$$.fragment),a=j(),g=w("div"),V&&V.c(),m(n,"class","header svelte-19r45i3"),m(i,"class","eject svelte-19r45i3"),m(s,"class","tools svelte-19r45i3"),m(g,"class","slot-wrapper svelte-19r45i3"),m(e,"class","layout svelte-19r45i3")},m(C,$){b(C,e,$),p(e,n),p(e,l),p(e,s),M&&M.m(s,null),p(s,o),p(s,i),z&&z.m(i,null),p(e,c),T(f,e,null),p(e,a),p(e,g),V&&V.m(g,null),h=!0,v||(d=Z(i,"click",Me(t[14])),v=!0)},p(C,[$]){J?J.p&&(!h||$&4096)&&Ae(J,k,C,C[12],h?Xe(k,C[12],$,Tn):He(C[12]),ft):M&&M.p&&(!h||$&256)&&M.p(C,h?$:-1),C[8]?z?(z.p(C,$),$&256&&H(z,1)):(z=rt(C),z.c(),H(z,1),z.m(i,null)):z&&(zt(),O(z,1,1,()=>{z=null}),Dt());const _={};$&2&&(_.pathSteps=C[1]),$&4&&(_.showTools=C[2]),$&16&&(_.rootIcon=C[4]),$&8&&(_.rootPath=C[3]),$&32&&(_.rootSimpleIcon=C[5]),$&64&&(_.rootIconColor=C[6]),$&128&&(_.rootSimpleIconColor=C[7]),!r&&$&1&&(r=!0,_.loading=C[0],Be(()=>r=!1)),f.$set(_),V&&V.p&&(!h||$&4096)&&Ae(V,X,C,C[12],h?Xe(X,C[12],$,null):He(C[12]),null)},i(C){h||(H(M,C),H(z),H(f.$$.fragment,C),H(V,C),h=!0)},o(C){O(M,C),O(z),O(f.$$.fragment,C),O(V,C),h=!1},d(C){C&&y(e),M&&M.d(C),z&&z.d(),R(f),V&&V.d(C),v=!1,d()}}}const Fn="__layout$tab-";function Yn(t,e,n){let l,s;ue(t,pe,$=>n(20,l=$));let{$$slots:o={},$$scope:i}=e,{pathSteps:c=[]}=e,{pathNavLoading:f=!1}=e,{showNavRefresh:r=!0}=e,{navRootPath:a=null}=e,{navRootIcon:g=null}=e,{navRootSimpleIcon:h=null}=e,{navRootIconColor:v=null}=e,{navRootSimpleIconColor:d=null}=e;const k=et(),[,,J]=Ie(Fn+"File");ue(t,J,$=>n(8,s=$));const M=[{text:"Upload File",type:"upload",icon:"upload"},{text:"New Folder",type:"mkdir",icon:"new-folder"},{text:"Paste Item",type:"paste",icon:"paste",get disabled(){return l===null}}];function z($){De.call(this,t,$)}const N=()=>{s?he():(he(),Q(J,s=!0,s))},A=$=>{$.disabled||(k("FileMenuClick",{type:$.type}),kn().then(()=>{Q(J,s=!1,s)}))};function X($){f=$,n(0,f)}function V($){De.call(this,t,$)}function C($){De.call(this,t,$)}return t.$$set=$=>{"pathSteps"in $&&n(1,c=$.pathSteps),"pathNavLoading"in $&&n(0,f=$.pathNavLoading),"showNavRefresh"in $&&n(2,r=$.showNavRefresh),"navRootPath"in $&&n(3,a=$.navRootPath),"navRootIcon"in $&&n(4,g=$.navRootIcon),"navRootSimpleIcon"in $&&n(5,h=$.navRootSimpleIcon),"navRootIconColor"in $&&n(6,v=$.navRootIconColor),"navRootSimpleIconColor"in $&&n(7,d=$.navRootSimpleIconColor),"$$scope"in $&&n(12,i=$.$$scope)},[f,c,r,a,g,h,v,d,s,k,J,M,i,o,z,N,A,X,V,C]}class Vt extends _e{constructor(e){super();ve(this,e,Yn,Ln,$e,{pathSteps:1,pathNavLoading:0,showNavRefresh:2,navRootPath:3,navRootIcon:4,navRootSimpleIcon:5,navRootIconColor:6,navRootSimpleIconColor:7})}}var qe=(t=>(t[t.Unknown=0]="Unknown",t[t["7-Zip"]=1]="7-Zip",t[t.AVI=2]="AVI",t[t.BAT=3]="BAT",t[t["Adobe Illustrator"]=4]="Adobe Illustrator",t[t.BMP=5]="BMP",t[t.CSS=6]="CSS",t[t.Conf=7]="Conf",t[t.EOT=8]="EOT",t[t["MS-Word 2007"]=9]="MS-Word 2007",t[t["MS-Word 2003"]=10]="MS-Word 2003",t[t["MS-Excel 2007"]=11]="MS-Excel 2007",t[t["MS-PPT 2003"]=12]="MS-PPT 2003",t[t.HTM=13]="HTM",t[t.HTML=14]="HTML",t[t.ICO=15]="ICO",t[t.INI=16]="INI",t[t.Jar=17]="Jar",t[t.Java=18]="Java",t[t.JPEG=19]="JPEG",t[t.JPG=20]="JPG",t[t.JavaScript=21]="JavaScript",t[t.MarkDown=22]="MarkDown",t[t.MP3=23]="MP3",t[t.MP4=24]="MP4",t[t.MP5=25]="MP5",t[t.MPGE=26]="MPGE",t[t.PDF=27]="PDF",t[t.PL=28]="PL",t[t.PNG=29]="PNG",t[t.PPT=30]="PPT",t[t["Adobe Photoshop"]=31]="Adobe Photoshop",t[t.Python=32]="Python",t[t.RAR=33]="RAR",t[t.RM=34]="RM",t[t.Shell=35]="Shell",t[t.SVG=36]="SVG",t[t.TTF=37]="TTF",t[t.TAR=38]="TAR",t[t.Text=39]="Text",t[t.WOFF=40]="WOFF",t[t.XML=41]="XML",t[t.YML=42]="YML",t[t.YAML=43]="YAML",t[t.ZIP=44]="ZIP",t[t.Binary=45]="Binary",t))(qe||{});const Ue={"":"","7z":1,avi:2,bat:3,ai:4,bmp:5,css:6,jss:6,wxss:6,scss:6,sass:6,less:6,stylus:6,styl:6,conf:7,config:7,eot:8,docx:9,doc:10,htm:13,html:14,xhtml:14,pug:14,ejs:14,hbs:14,php:14,asp:14,jsp:14,ico:15,icon:15,jar:17,war:17,java:18,class:18,jpeg:19,jpg:20,js:21,jsx:21,coffee:21,ts:21,tsx:21,res:21,md:22,mdx:22,markdown:22,mp3:23,mp4:24,mp5:25,mpge:26,mp2:26,pdf:27,pl:28,png:29,pngx:29,ppt:12,pptx:12,psd:31,psb:31,py:32,pyd:32,pyc:32,rar:33,rm:34,sh:35,ps1:35,svg:36,ttf:37,tar:38,txt:39,text:39,xls:11,xlsx:11,woff:40,xml:41,xaml:41,yml:42,yaml:43,zip:44,bin:45,exe:45,dll:45,msi:45,so:45,msix:45},q={[0]:{icon:"file-unknown"},[1]:{icon:"file-7z"},[2]:{icon:"file-avi"},[3]:{icon:"file-bat"},[4]:{icon:"file-ai"},[5]:{icon:"file-bmp",color:"rgb(47,166,154)"},[6]:{icon:"file-css",color:"rgb(72,166,242)"},[7]:{icon:"file-conf"},[8]:{icon:"file-eot"},[9]:{icon:"file-docx",color:"rgb(11,88,153)"},[10]:{icon:"file-doc",color:"rgb(11,88,153)"},[11]:{icon:"file-xlsx",color:"rgb(11,88,153)"},[12]:{icon:"file-ppt",color:"rgb(11,88,153)"},[13]:{icon:"file-htm"},[14]:{icon:"file-html"},[15]:{icon:"file-ico"},[16]:{icon:"file-ini"},[17]:{icon:"file-jar"},[18]:{icon:"file-java",color:"rgb(241,63,60)"},[19]:{icon:"file-jepg",color:"rgb(47,166,154)"},[20]:{icon:"file-jpg",color:"rgb(47,166,154)"},[21]:{icon:"file-javascript",color:"rgb(22,137,206)"},[22]:{icon:"file-markdown"},[23]:{icon:"file-mp3"},[24]:{icon:"file-mp4"},[25]:{icon:"file-mp5"},[26]:{icon:"file-mpge"},[27]:{icon:"file-pdf"},[28]:{icon:"file-pl"},[29]:{icon:"file-png",color:"rgb(47,166,154)"},[30]:{icon:"file-ppt"},[31]:{icon:"file-psd",color:"rgb(47,166,154)"},[32]:{icon:"file-python",color:"rgb(252,215,71)"},[33]:{icon:"file-rar"},[34]:{icon:"file-rm"},[35]:{icon:"file-sh"},[36]:{icon:"file-svg"},[37]:{icon:"file-ttf"},[38]:{icon:"file-tar"},[39]:{icon:"file-text"},[40]:{icon:"file-woff"},[41]:{icon:"file-xml"},[42]:{icon:"file-yml"},[43]:{icon:"file-yaml"},[44]:{icon:"file-zip"},[45]:{icon:"file-bin"}},Le={icon:"file-unknown"},Un=0;async function ze(t){try{return[await t,null]}catch(e){return[null,e]}}function ut(t){let e,n,l,s,o,i;const c=t[7].default,f=je(c,t,t[6],null);return{c(){e=w("div"),f&&f.c(),m(e,"class","menu svelte-15tg8wh"),m(e,"style",n=`left:${t[3]}px;top:${t[2]}px;`)},m(r,a){b(r,e,a),f&&f.m(e,null),t[10](e),s=!0,o||(i=Z(e,"click",Me(t[8])),o=!0)},p(r,a){f&&f.p&&(!s||a&64)&&Ae(f,c,r,r[6],s?Xe(c,r[6],a,null):He(r[6]),null),(!s||a&12&&n!==(n=`left:${r[3]}px;top:${r[2]}px;`))&&m(e,"style",n)},i(r){s||(H(f,r),l||wn(()=>{l=bn(e,jt,{duration:200}),l.start()}),s=!0)},o(r){O(f,r),s=!1},d(r){r&&y(e),f&&f.d(r),t[10](null),o=!1,i()}}}function Pn(t){let e,n,l,s,o,i=t[0]&&ut(t);return{c(){e=j(),i&&i.c(),n=tt()},m(c,f){b(c,e,f),i&&i.m(c,f),b(c,n,f),l=!0,s||(o=Z(document.body,"click",t[9]),s=!0)},p(c,[f]){c[0]?i?(i.p(c,f),f&1&&H(i,1)):(i=ut(c),i.c(),H(i,1),i.m(n.parentNode,n)):i&&(zt(),O(i,1,1,()=>{i=null}),Dt())},i(c){l||(H(i),l=!0)},o(c){O(i),l=!1},d(c){c&&y(e),i&&i.d(c),c&&y(n),s=!1,o()}}}function xn(t,e,n){let l,s,{$$slots:o={},$$scope:i}=e,{show:c=!0}=e,{x:f=0}=e,{y:r=0}=e,a;function g(d){De.call(this,t,d)}const h=()=>n(0,c=!1);function v(d){ye[d?"unshift":"push"](()=>{a=d,n(1,a)})}return t.$$set=d=>{"show"in d&&n(0,c=d.show),"x"in d&&n(4,f=d.x),"y"in d&&n(5,r=d.y),"$$scope"in d&&n(6,i=d.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(3,l=f>window.innerWidth-262-10?f-262-10:f),t.$$.dirty&34&&n(2,s=r>window.innerHeight-(a==null?void 0:a.clientHeight)?r-(a==null?void 0:a.clientHeight):r)},[c,a,s,l,f,r,i,o,g,h,v]}class Pe extends _e{constructor(e){super();ve(this,e,xn,Pn,$e,{show:0,x:4,y:5})}}const En=t=>({}),mt=t=>({});function el(t){let e,n,l,s,o,i,c;const f=t[3].icon,r=je(f,t,t[2],mt),a=t[3].default,g=je(a,t,t[2],null);return{c(){e=w("div"),n=w("div"),r&&r.c(),l=j(),s=w("div"),g&&g.c(),m(n,"class","icon svelte-6s0tr2"),m(s,"class","text svelte-6s0tr2"),m(e,"class","item svelte-6s0tr2"),oe(e,"disabled",t[0])},m(h,v){b(h,e,v),p(e,n),r&&r.m(n,null),p(e,l),p(e,s),g&&g.m(s,null),o=!0,i||(c=Z(e,"click",t[4]),i=!0)},p(h,[v]){r&&r.p&&(!o||v&4)&&Ae(r,f,h,h[2],o?Xe(f,h[2],v,En):He(h[2]),mt),g&&g.p&&(!o||v&4)&&Ae(g,a,h,h[2],o?Xe(a,h[2],v,null):He(h[2]),null),v&1&&oe(e,"disabled",h[0])},i(h){o||(H(r,h),H(g,h),o=!0)},o(h){O(r,h),O(g,h),o=!1},d(h){h&&y(e),r&&r.d(h),g&&g.d(h),i=!1,c()}}}function tl(t,e,n){let{$$slots:l={},$$scope:s}=e,{disabled:o=!1}=e;const i=et(),c=()=>{o||i("click")};return t.$$set=f=>{"disabled"in f&&n(0,o=f.disabled),"$$scope"in f&&n(2,s=f.$$scope)},[o,i,s,l,c]}class re extends _e{constructor(e){super();ve(this,e,tl,el,$e,{disabled:0})}}var Te=(t=>(t.Delete="Delete",t.X="x",t.V="v",t))(Te||{});function Oe(t,e,n){if(!e&&t)n();else if(t)alert(e);else return}function nl(t){let e,n;const l=t[1].default,s=je(l,t,t[0],null);return{c(){e=w("div"),s&&s.c(),m(e,"class","group svelte-9j64vd")},m(o,i){b(o,e,i),s&&s.m(e,null),n=!0},p(o,[i]){s&&s.p&&(!n||i&1)&&Ae(s,l,o,o[0],n?Xe(l,o[0],i,null):He(o[0]),null)},i(o){n||(H(s,o),n=!0)},o(o){O(s,o),n=!1},d(o){o&&y(e),s&&s.d(o)}}}function ll(t,e,n){let{$$slots:l={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,l]}class me extends _e{constructor(e){super();ve(this,e,ll,nl,$e,{})}}function nt(){alert("Functions not completed yet")}function Je(t){return t.replaceAll(/\/+/g,"/")}function dt(t,e,n){const l=t.slice();return l[83]=e[n],l}function pt(t,e,n){const l=t.slice();return l[83]=e[n],l}function ht(t){let e,n,l,s,o=t[83].name+"",i,c,f,r=t[83].modify+"",a,g,h,v,d,k,J;function M(){return t[46](t[83])}function z(...X){return t[47](t[83],...X)}function N(){return t[49](t[83])}function A(){return t[50](t[83])}return{c(){var X,V;e=w("tr"),n=w("td"),l=w("i"),s=j(),i=G(o),c=j(),f=w("td"),a=G(r),g=j(),h=w("td"),h.textContent="Folder",v=j(),d=w("td"),m(l,"class","iconfont icon-folder-fill svelte-1yk83nc"),m(n,"class","svelte-1yk83nc"),m(f,"class","svelte-1yk83nc"),m(h,"class","svelte-1yk83nc"),m(d,"class","svelte-1yk83nc"),m(e,"class","svelte-1yk83nc"),oe(e,"active",t[5]===t[83]),oe(e,"cutting",t[24]()===((X=t[10])==null?void 0:X.fromPath)&&t[83].name===((V=t[10])==null?void 0:V.itemValue.name))},m(X,V){b(X,e,V),p(e,n),p(n,l),p(n,s),p(n,i),p(e,c),p(e,f),p(f,a),p(e,g),p(e,h),p(e,v),p(e,d),k||(J=[Z(e,"touchend",M,{passive:!0}),Z(e,"contextmenu",z),Z(e,"contextmenu",t[48]),Z(e,"click",Me(N)),Z(e,"dblclick",A)],k=!0)},p(X,V){var C,$;t=X,V[0]&256&&o!==(o=t[83].name+"")&&ne(i,o),V[0]&256&&r!==(r=t[83].modify+"")&&ne(a,r),V[0]&288&&oe(e,"active",t[5]===t[83]),V[0]&16778496&&oe(e,"cutting",t[24]()===((C=t[10])==null?void 0:C.fromPath)&&t[83].name===(($=t[10])==null?void 0:$.itemValue.name))},d(X){X&&y(e),k=!1,Ve(J)}}}function _t(t){let e,n,l,s,o,i,c=t[83].name+"",f,r,a,g=t[83].modify+"",h,v,d,k=qe[t[83].fileType]+"",J,M,z,N,A=t[83].size+"",X,V,C,$;function _(){return t[51](t[83])}function D(...K){return t[52](t[83],...K)}function x(){return t[54](t[83])}function F(){return t[55](t[83])}return{c(){var K,L,ce,fe,Y,se;e=w("tr"),n=w("td"),l=w("i"),i=j(),f=G(c),r=j(),a=w("td"),h=G(g),v=j(),d=w("td"),J=G(k),M=G(" File"),z=j(),N=w("td"),X=G(A),V=j(),m(l,"class",s="iconfont icon-"+((L=(K=q==null?void 0:q[t[83].fileType])==null?void 0:K.icon)!=null?L:Le.icon)+" svelte-1yk83nc"),m(l,"style",o=(ce=q==null?void 0:q[t[83].fileType])!=null&&ce.color?`color:${(fe=q==null?void 0:q[t[83].fileType])==null?void 0:fe.color}`:""),m(n,"class","svelte-1yk83nc"),m(a,"class","svelte-1yk83nc"),m(d,"class","svelte-1yk83nc"),m(N,"class","svelte-1yk83nc"),m(e,"class","svelte-1yk83nc"),oe(e,"active",t[5]===t[83]),oe(e,"cutting",t[24]()===((Y=t[10])==null?void 0:Y.fromPath)&&t[83].name===((se=t[10])==null?void 0:se.itemValue.name))},m(K,L){b(K,e,L),p(e,n),p(n,l),p(n,i),p(n,f),p(e,r),p(e,a),p(a,h),p(e,v),p(e,d),p(d,J),p(d,M),p(e,z),p(e,N),p(N,X),p(e,V),C||($=[Z(e,"touchend",_,{passive:!0}),Z(e,"contextmenu",D),Z(e,"contextmenu",t[53]),Z(e,"click",Me(x)),Z(e,"dblclick",F)],C=!0)},p(K,L){var ce,fe,Y,se,E,be;t=K,L[0]&128&&s!==(s="iconfont icon-"+((fe=(ce=q==null?void 0:q[t[83].fileType])==null?void 0:ce.icon)!=null?fe:Le.icon)+" svelte-1yk83nc")&&m(l,"class",s),L[0]&128&&o!==(o=(Y=q==null?void 0:q[t[83].fileType])!=null&&Y.color?`color:${(se=q==null?void 0:q[t[83].fileType])==null?void 0:se.color}`:"")&&m(l,"style",o),L[0]&128&&c!==(c=t[83].name+"")&&ne(f,c),L[0]&128&&g!==(g=t[83].modify+"")&&ne(h,g),L[0]&128&&k!==(k=qe[t[83].fileType]+"")&&ne(J,k),L[0]&128&&A!==(A=t[83].size+"")&&ne(X,A),L[0]&160&&oe(e,"active",t[5]===t[83]),L[0]&16778368&&oe(e,"cutting",t[24]()===((E=t[10])==null?void 0:E.fromPath)&&t[83].name===((be=t[10])==null?void 0:be.itemValue.name))},d(K){K&&y(e),C=!1,Ve($)}}}function ol(t){let e=t[0].length+"",n,l;return{c(){n=G(e),l=G(" Items")},m(s,o){b(s,n,o),b(s,l,o)},p(s,o){o[0]&1&&e!==(e=s[0].length+"")&&ne(n,e)},d(s){s&&y(n),s&&y(l)}}}function sl(t){let e=t[5].name+"",n;return{c(){n=G(e)},m(l,s){b(l,n,s)},p(l,s){s[0]&32&&e!==(e=l[5].name+"")&&ne(n,e)},d(l){l&&y(n)}}}function vt(t){let e=qe[t[5].fileType]+"",n,l;return{c(){n=G(e),l=G(" File")},m(s,o){b(s,n,o),b(s,l,o)},p(s,o){o[0]&32&&e!==(e=qe[s[5].fileType]+"")&&ne(n,e)},d(s){s&&y(n),s&&y(l)}}}function il(t){let e;return{c(){e=w("i"),m(e,"class","iconfont icon-folder svelte-1yk83nc")},m(n,l){b(n,e,l)},p:Se,d(n){n&&y(e)}}}function cl(t){let e;function n(o,i){return o[5].type==="folder"?rl:fl}let l=n(t),s=l(t);return{c(){s.c(),e=tt()},m(o,i){s.m(o,i),b(o,e,i)},p(o,i){l===(l=n(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){s.d(o),o&&y(e)}}}function fl(t){let e,n,l;return{c(){var s,o,i,c;e=w("i"),m(e,"class",n="iconfont icon-"+((o=(s=q==null?void 0:q[t[5].fileType])==null?void 0:s.icon)!=null?o:Le.icon)+" svelte-1yk83nc"),m(e,"style",l=(i=q==null?void 0:q[t[5].fileType])!=null&&i.color?`color:${(c=q==null?void 0:q[t[5].fileType])==null?void 0:c.color}`:"")},m(s,o){b(s,e,o)},p(s,o){var i,c,f,r;o[0]&32&&n!==(n="iconfont icon-"+((c=(i=q==null?void 0:q[s[5].fileType])==null?void 0:i.icon)!=null?c:Le.icon)+" svelte-1yk83nc")&&m(e,"class",n),o[0]&32&&l!==(l=(f=q==null?void 0:q[s[5].fileType])!=null&&f.color?`color:${(r=q==null?void 0:q[s[5].fileType])==null?void 0:r.color}`:"")&&m(e,"style",l)},d(s){s&&y(e)}}}function rl(t){let e;return{c(){e=w("i"),m(e,"class","iconfont icon-folder-fill svelte-1yk83nc")},m(n,l){b(n,e,l)},p:Se,d(n){n&&y(e)}}}function $t(t){let e,n,l,s=t[5].modify+"",o,i,c,f,r,a=t[5].created+"",g,h,v=t[5].type==="file"&&gt(t);return{c(){e=w("div"),n=w("class"),l=G("Modififaction Time:"),o=G(s),i=j(),v&&v.c(),c=j(),f=w("div"),r=G("Created Time:"),g=G(a),m(n,"class","item svelte-1yk83nc"),m(f,"class","item svelte-1yk83nc"),m(e,"class","others svelte-1yk83nc"),m(e,"style",h=`width:${t[1]-40}px`)},m(d,k){b(d,e,k),p(e,n),p(n,l),p(n,o),p(e,i),v&&v.m(e,null),p(e,c),p(e,f),p(f,r),p(f,g)},p(d,k){k[0]&32&&s!==(s=d[5].modify+"")&&ne(o,s),d[5].type==="file"?v?v.p(d,k):(v=gt(d),v.c(),v.m(e,c)):v&&(v.d(1),v=null),k[0]&32&&a!==(a=d[5].created+"")&&ne(g,a),k[0]&2&&h!==(h=`width:${d[1]-40}px`)&&m(e,"style",h)},d(d){d&&y(e),v&&v.d()}}}function gt(t){let e,n,l=t[5].size+"",s;return{c(){e=w("div"),n=G("Size:"),s=G(l),m(e,"class","item svelte-1yk83nc")},m(o,i){b(o,e,i),p(e,n),p(e,s)},p(o,i){i[0]&32&&l!==(l=o[5].size+"")&&ne(s,l)},d(o){o&&y(e)}}}function kt(t){let e,n,l=t[5].type+"",s,o,i,c=t[5].type==="file"&&wt(t);return{c(){e=w("div"),n=G("Selected 1 "),s=G(l),o=j(),c&&c.c(),i=tt(),m(e,"class","info svelte-1yk83nc")},m(f,r){b(f,e,r),p(e,n),p(e,s),b(f,o,r),c&&c.m(f,r),b(f,i,r)},p(f,r){r[0]&32&&l!==(l=f[5].type+"")&&ne(s,l),f[5].type==="file"?c?c.p(f,r):(c=wt(f),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(f){f&&y(e),f&&y(o),c&&c.d(f),f&&y(i)}}}function wt(t){let e,n=t[5].size+"",l;return{c(){e=w("div"),l=G(n),m(e,"class","info svelte-1yk83nc")},m(s,o){b(s,e,o),p(e,l)},p(s,o){o[0]&32&&n!==(n=s[5].size+"")&&ne(l,n)},d(s){s&&y(e)}}}function al(t){let e,n,l,s,o,i,c,f,r,a,g,h,v,d,k,J,M,z,N,A,X,V,C,$,_,D=t[0].length+"",x,F,K,L,ce,fe=t[8],Y=[];for(let S=0;S<fe.length;S+=1)Y[S]=ht(pt(t,fe,S));let se=t[7],E=[];for(let S=0;S<se.length;S+=1)E[S]=_t(dt(t,se,S));function be(S,U){return S[5]?sl:ol}let Ce=be(t),ae=Ce(t),le=t[5]&&t[5].type==="file"&&vt(t);function Ne(S,U){return S[5]?cl:il}let ge=Ne(t),P=ge(t),ee=t[5]&&$t(t),te=t[5]&&kt(t);return{c(){e=w("div"),n=w("div"),l=w("div"),s=w("table"),o=w("thead"),o.innerHTML=`<tr class="svelte-1yk83nc"><th class="svelte-1yk83nc">Name</th> 
              <th class="svelte-1yk83nc">Modififaction Time</th> 
              <th class="svelte-1yk83nc">Type</th> 
              <th class="svelte-1yk83nc">Size</th></tr>`,i=j(),c=w("tbody");for(let S=0;S<Y.length;S+=1)Y[S].c();f=j();for(let S=0;S<E.length;S+=1)E[S].c();r=j(),a=w("div"),g=w("div"),h=j(),v=w("div"),d=w("div"),ae.c(),J=j(),M=w("div"),le&&le.c(),N=j(),A=w("div"),P.c(),V=j(),ee&&ee.c(),C=j(),$=w("div"),_=w("div"),x=G(D),F=G(" Items"),K=j(),te&&te.c(),m(o,"class","svelte-1yk83nc"),m(s,"class","svelte-1yk83nc"),m(l,"class","file-list svelte-1yk83nc"),m(g,"class","moveable svelte-1yk83nc"),m(g,"draggable",!1),oe(g,"active",t[3]),m(d,"class","title svelte-1yk83nc"),m(d,"style",k=`width:${t[1]-40}px`),m(M,"class","type svelte-1yk83nc"),m(M,"style",z=`width:${t[1]-40}px`),m(A,"class","icon svelte-1yk83nc"),m(A,"style",X=`width:${t[1]-40}px`),m(v,"class","data svelte-1yk83nc"),m(a,"class","file-info svelte-1yk83nc"),m(n,"class","content svelte-1yk83nc"),m(_,"class","info svelte-1yk83nc"),m($,"class","footer svelte-1yk83nc"),m(e,"class","container svelte-1yk83nc"),m(e,"draggable",!1)},m(S,U){b(S,e,U),p(e,n),p(n,l),p(l,s),p(s,o),p(s,i),p(s,c);for(let W=0;W<Y.length;W+=1)Y[W].m(c,null);p(c,f);for(let W=0;W<E.length;W+=1)E[W].m(c,null);p(n,r),p(n,a),p(a,g),p(a,h),p(a,v),p(v,d),ae.m(d,null),p(v,J),p(v,M),le&&le.m(M,null),p(v,N),p(v,A),P.m(A,null),p(v,V),ee&&ee.m(v,null),t[59](a),p(e,C),p(e,$),p($,_),p(_,x),p(_,F),p($,K),te&&te.m($,null),L||(ce=[Z(s,"contextmenu",Me(ke(t[44]))),Z(l,"click",t[56]),Z(l,"contextmenu",Me(ke(t[57]))),Z(g,"mousedown",t[58]),Z(n,"contextmenu",ke(t[60])),Z(e,"blur",t[21]),Z(e,"mouseup",t[21])],L=!0)},p(S,U){if(U[0]&21087520){fe=S[8];let W;for(W=0;W<fe.length;W+=1){const ie=pt(S,fe,W);Y[W]?Y[W].p(ie,U):(Y[W]=ht(ie),Y[W].c(),Y[W].m(c,f))}for(;W<Y.length;W+=1)Y[W].d(1);Y.length=fe.length}if(U[0]&17695904){se=S[7];let W;for(W=0;W<se.length;W+=1){const ie=dt(S,se,W);E[W]?E[W].p(ie,U):(E[W]=_t(ie),E[W].c(),E[W].m(c,null))}for(;W<E.length;W+=1)E[W].d(1);E.length=se.length}U[0]&8&&oe(g,"active",S[3]),Ce===(Ce=be(S))&&ae?ae.p(S,U):(ae.d(1),ae=Ce(S),ae&&(ae.c(),ae.m(d,null))),U[0]&2&&k!==(k=`width:${S[1]-40}px`)&&m(d,"style",k),S[5]&&S[5].type==="file"?le?le.p(S,U):(le=vt(S),le.c(),le.m(M,null)):le&&(le.d(1),le=null),U[0]&2&&z!==(z=`width:${S[1]-40}px`)&&m(M,"style",z),ge===(ge=Ne(S))&&P?P.p(S,U):(P.d(1),P=ge(S),P&&(P.c(),P.m(A,null))),U[0]&2&&X!==(X=`width:${S[1]-40}px`)&&m(A,"style",X),S[5]?ee?ee.p(S,U):(ee=$t(S),ee.c(),ee.m(v,null)):ee&&(ee.d(1),ee=null),U[0]&1&&D!==(D=S[0].length+"")&&ne(x,D),S[5]?te?te.p(S,U):(te=kt(S),te.c(),te.m($,null)):te&&(te.d(1),te=null)},d(S){S&&y(e),Re(Y,S),Re(E,S),ae.d(),le&&le.d(),P.d(),ee&&ee.d(),t[59](null),te&&te.d(),L=!1,Ve(ce)}}}function ul(t){let e;return{c(){e=G("Cut")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function ml(t){let e,n;return e=new re({props:{$$slots:{default:[ul]},$$scope:{ctx:t}}}),e.$on("click",t[32]),e.$on("click",t[63]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function dl(t){let e;return{c(){e=G("Rename")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function pl(t){let e;return{c(){e=G("Delete")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function hl(t){let e,n,l,s;return e=new re({props:{$$slots:{default:[dl]},$$scope:{ctx:t}}}),e.$on("click",t[31]),e.$on("click",t[64]),l=new re({props:{$$slots:{default:[pl]},$$scope:{ctx:t}}}),l.$on("click",t[65]),l.$on("click",t[28]),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment)},m(o,i){T(e,o,i),b(o,n,i),T(l,o,i),s=!0},p(o,i){const c={};i[2]&67108864&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const f={};i[2]&67108864&&(f.$$scope={dirty:i,ctx:o}),l.$set(f)},i(o){s||(H(e.$$.fragment,o),H(l.$$.fragment,o),s=!0)},o(o){O(e.$$.fragment,o),O(l.$$.fragment,o),s=!1},d(o){R(e,o),o&&y(n),R(l,o)}}}function _l(t){let e;return{c(){e=G("Download")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function vl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-download"),Ge(e,"color","#067fdb")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function $l(t){let e;return{c(){e=G("Create Download QRCode")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function gl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-qrcode"),Ge(e,"color","#333")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function kl(t){let e,n,l,s;return e=new re({props:{$$slots:{icon:[vl],default:[_l]},$$scope:{ctx:t}}}),e.$on("click",t[66]),e.$on("click",t[67]),l=new re({props:{$$slots:{icon:[gl],default:[$l]},$$scope:{ctx:t}}}),l.$on("click",nt),l.$on("click",t[68]),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment)},m(o,i){T(e,o,i),b(o,n,i),T(l,o,i),s=!0},p(o,i){const c={};i[2]&67108864&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const f={};i[2]&67108864&&(f.$$scope={dirty:i,ctx:o}),l.$set(f)},i(o){s||(H(e.$$.fragment,o),H(l.$$.fragment,o),s=!0)},o(o){O(e.$$.fragment,o),O(l.$$.fragment,o),s=!1},d(o){R(e,o),o&&y(n),R(l,o)}}}function wl(t){let e,n,l,s,o,i;return e=new me({props:{$$slots:{default:[ml]},$$scope:{ctx:t}}}),l=new me({props:{$$slots:{default:[hl]},$$scope:{ctx:t}}}),o=new me({props:{$$slots:{default:[kl]},$$scope:{ctx:t}}}),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment),s=j(),I(o.$$.fragment)},m(c,f){T(e,c,f),b(c,n,f),T(l,c,f),b(c,s,f),T(o,c,f),i=!0},p(c,f){const r={};f[0]&524288|f[2]&67108864&&(r.$$scope={dirty:f,ctx:c}),e.$set(r);const a={};f[0]&524288|f[2]&67108864&&(a.$$scope={dirty:f,ctx:c}),l.$set(a);const g={};f[0]&524320|f[2]&67108864&&(g.$$scope={dirty:f,ctx:c}),o.$set(g)},i(c){i||(H(e.$$.fragment,c),H(l.$$.fragment,c),H(o.$$.fragment,c),i=!0)},o(c){O(e.$$.fragment,c),O(l.$$.fragment,c),O(o.$$.fragment,c),i=!1},d(c){R(e,c),c&&y(n),R(l,c),c&&y(s),R(o,c)}}}function bl(t){let e;return{c(){e=G("Cut")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function yl(t){let e,n;return e=new re({props:{$$slots:{default:[bl]},$$scope:{ctx:t}}}),e.$on("click",t[32]),e.$on("click",t[70]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Sl(t){let e;return{c(){e=G("Rename")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Ml(t){let e;return{c(){e=G("Delete")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Cl(t){let e,n,l,s;return e=new re({props:{$$slots:{default:[Sl]},$$scope:{ctx:t}}}),e.$on("click",t[31]),e.$on("click",t[71]),l=new re({props:{$$slots:{default:[Ml]},$$scope:{ctx:t}}}),l.$on("click",t[72]),l.$on("click",t[29]),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment)},m(o,i){T(e,o,i),b(o,n,i),T(l,o,i),s=!0},p(o,i){const c={};i[2]&67108864&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const f={};i[2]&67108864&&(f.$$scope={dirty:i,ctx:o}),l.$set(f)},i(o){s||(H(e.$$.fragment,o),H(l.$$.fragment,o),s=!0)},o(o){O(e.$$.fragment,o),O(l.$$.fragment,o),s=!1},d(o){R(e,o),o&&y(n),R(l,o)}}}function Nl(t){let e;return{c(){e=G("Create Share QRCode")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function zl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-qrcode"),Ge(e,"color","#333")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Dl(t){let e,n;return e=new re({props:{$$slots:{icon:[zl],default:[Nl]},$$scope:{ctx:t}}}),e.$on("click",nt),e.$on("click",t[73]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function jl(t){let e,n,l,s,o,i;return e=new me({props:{$$slots:{default:[yl]},$$scope:{ctx:t}}}),l=new me({props:{$$slots:{default:[Cl]},$$scope:{ctx:t}}}),o=new me({props:{$$slots:{default:[Dl]},$$scope:{ctx:t}}}),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment),s=j(),I(o.$$.fragment)},m(c,f){T(e,c,f),b(c,n,f),T(l,c,f),b(c,s,f),T(o,c,f),i=!0},p(c,f){const r={};f[0]&65536|f[2]&67108864&&(r.$$scope={dirty:f,ctx:c}),e.$set(r);const a={};f[0]&65536|f[2]&67108864&&(a.$$scope={dirty:f,ctx:c}),l.$set(a);const g={};f[0]&65536|f[2]&67108864&&(g.$$scope={dirty:f,ctx:c}),o.$set(g)},i(c){i||(H(e.$$.fragment,c),H(l.$$.fragment,c),H(o.$$.fragment,c),i=!0)},o(c){O(e.$$.fragment,c),O(l.$$.fragment,c),O(o.$$.fragment,c),i=!1},d(c){R(e,c),c&&y(n),R(l,c),c&&y(s),R(o,c)}}}function Al(t){let e;return{c(){e=G("Upload File")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Hl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-upload"),Ge(e,"color","#4478d2")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Xl(t){let e;return{c(){e=G("New Folder")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Vl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-new-folder"),Ge(e,"color","#f0d05f")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Gl(t){let e,n,l,s;return e=new re({props:{$$slots:{icon:[Hl],default:[Al]},$$scope:{ctx:t}}}),e.$on("click",t[75]),l=new re({props:{$$slots:{icon:[Vl],default:[Xl]},$$scope:{ctx:t}}}),l.$on("click",t[76]),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment)},m(o,i){T(e,o,i),b(o,n,i),T(l,o,i),s=!0},p(o,i){const c={};i[2]&67108864&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const f={};i[2]&67108864&&(f.$$scope={dirty:i,ctx:o}),l.$set(f)},i(o){s||(H(e.$$.fragment,o),H(l.$$.fragment,o),s=!0)},o(o){O(e.$$.fragment,o),O(l.$$.fragment,o),s=!1},d(o){R(e,o),o&&y(n),R(l,o)}}}function Ol(t){let e;return{c(){e=G("Paste")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Jl(t){let e,n;return e=new re({props:{disabled:!t[10],$$slots:{default:[Ol]},$$scope:{ctx:t}}}),e.$on("click",t[77]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[0]&1024&&(o.disabled=!l[10]),s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Wl(t){let e;return{c(){e=G("Refresh")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Bl(t){let e,n;return e=new re({props:{$$slots:{default:[Wl]},$$scope:{ctx:t}}}),e.$on("click",t[78]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function ql(t){let e;return{c(){e=G("About")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Zl(t){let e;return{c(){e=w("i"),m(e,"slot","icon"),m(e,"class","iconfont icon-info"),Ge(e,"color","#0066b4")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Kl(t){let e,n;return e=new re({props:{$$slots:{icon:[Zl],default:[ql]},$$scope:{ctx:t}}}),e.$on("click",nt),e.$on("click",t[79]),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Ql(t){let e,n,l,s,o,i,c,f;return e=new me({props:{$$slots:{default:[Gl]},$$scope:{ctx:t}}}),l=new me({props:{$$slots:{default:[Jl]},$$scope:{ctx:t}}}),o=new me({props:{$$slots:{default:[Bl]},$$scope:{ctx:t}}}),c=new me({props:{$$slots:{default:[Kl]},$$scope:{ctx:t}}}),{c(){I(e.$$.fragment),n=j(),I(l.$$.fragment),s=j(),I(o.$$.fragment),i=j(),I(c.$$.fragment)},m(r,a){T(e,r,a),b(r,n,a),T(l,r,a),b(r,s,a),T(o,r,a),b(r,i,a),T(c,r,a),f=!0},p(r,a){const g={};a[0]&2048|a[2]&67108864&&(g.$$scope={dirty:a,ctx:r}),e.$set(g);const h={};a[0]&3072|a[2]&67108864&&(h.$$scope={dirty:a,ctx:r}),l.$set(h);const v={};a[0]&3072|a[2]&67108864&&(v.$$scope={dirty:a,ctx:r}),o.$set(v);const d={};a[0]&2048|a[2]&67108864&&(d.$$scope={dirty:a,ctx:r}),c.$set(d)},i(r){f||(H(e.$$.fragment,r),H(l.$$.fragment,r),H(o.$$.fragment,r),H(c.$$.fragment,r),f=!0)},o(r){O(e.$$.fragment,r),O(l.$$.fragment,r),O(o.$$.fragment,r),O(c.$$.fragment,r),f=!1},d(r){R(e,r),r&&y(n),R(l,r),r&&y(s),R(o,r),r&&y(i),R(c,r)}}}function Il(t){let e,n,l,s,o,i,c,f,r,a,g,h,v,d,k,J;function M(_){t[61](_)}let z={pathSteps:t[9],$$slots:{default:[al]},$$scope:{ctx:t}};t[6]!==void 0&&(z.pathNavLoading=t[6]),n=new Vt({props:z}),ye.push(()=>We(n,"pathNavLoading",M)),n.$on("refresh",t[62]),n.$on("changeNav",t[23]),n.$on("FileMenuClick",t[26]);function N(_){t[69](_)}let A={x:t[17],y:t[18],$$slots:{default:[wl]},$$scope:{ctx:t}};t[19]!==void 0&&(A.show=t[19]),i=new Pe({props:A}),ye.push(()=>We(i,"show",N));function X(_){t[74](_)}let V={x:t[14],y:t[15],$$slots:{default:[jl]},$$scope:{ctx:t}};t[16]!==void 0&&(V.show=t[16]),r=new Pe({props:V}),ye.push(()=>We(r,"show",X));function C(_){t[80](_)}let $={x:t[12],y:t[13],$$slots:{default:[Ql]},$$scope:{ctx:t}};return t[11]!==void 0&&($.show=t[11]),h=new Pe({props:$}),ye.push(()=>We(h,"show",C)),{c(){e=j(),I(n.$$.fragment),s=j(),o=w("div"),I(i.$$.fragment),f=j(),I(r.$$.fragment),g=j(),I(h.$$.fragment),m(o,"class","contentmenus")},m(_,D){b(_,e,D),T(n,_,D),b(_,s,D),b(_,o,D),T(i,o,null),p(o,f),T(r,o,null),p(o,g),T(h,o,null),d=!0,k||(J=[Z(window,"hashchange",t[27]),Z(document.body,"contextmenu",ke(t[45])),Z(document.body,"keyup",ke(t[30])),Z(document.body,"keyup",ke(t[33])),Z(document.body,"blur",t[21]),Z(document.body,"mouseup",t[21]),Z(document.body,"mousemove",t[20])],k=!0)},p(_,D){const x={};D[0]&512&&(x.pathSteps=_[9]),D[0]&1047999|D[2]&67108864&&(x.$$scope={dirty:D,ctx:_}),!l&&D[0]&64&&(l=!0,x.pathNavLoading=_[6],Be(()=>l=!1)),n.$set(x);const F={};D[0]&131072&&(F.x=_[17]),D[0]&262144&&(F.y=_[18]),D[0]&524320|D[2]&67108864&&(F.$$scope={dirty:D,ctx:_}),!c&&D[0]&524288&&(c=!0,F.show=_[19],Be(()=>c=!1)),i.$set(F);const K={};D[0]&16384&&(K.x=_[14]),D[0]&32768&&(K.y=_[15]),D[0]&65536|D[2]&67108864&&(K.$$scope={dirty:D,ctx:_}),!a&&D[0]&65536&&(a=!0,K.show=_[16],Be(()=>a=!1)),r.$set(K);const L={};D[0]&4096&&(L.x=_[12]),D[0]&8192&&(L.y=_[13]),D[0]&3072|D[2]&67108864&&(L.$$scope={dirty:D,ctx:_}),!v&&D[0]&2048&&(v=!0,L.show=_[11],Be(()=>v=!1)),h.$set(L)},i(_){d||(H(n.$$.fragment,_),H(i.$$.fragment,_),H(r.$$.fragment,_),H(h.$$.fragment,_),d=!0)},o(_){O(n.$$.fragment,_),O(i.$$.fragment,_),O(r.$$.fragment,_),O(h.$$.fragment,_),d=!1},d(_){_&&y(e),R(n,_),_&&y(s),_&&y(o),R(i),R(r),R(h),k=!1,Ve(J)}}}let bt,yt;function Tl(t,e,n){let l,s,o,i,c,f,r,a,g,h,v,d,k;ue(t,pe,u=>n(10,i=u));let{params:J={wild:""}}=e;const M=u=>Sn(u).format("YYYY/MM/DD HH:mm");let z=278,N=0,A=!1,X;const V=u=>{if(A){const B=u.pageX-N;n(4,X.style.width=`${z-B}px`,X)}},C=()=>{var u;n(3,A=!1),n(1,z=(u=X.clientWidth)!=null?u:278)};let $=[],_=null;const D=u=>{let B=location.hash.replace("#/","/");u.name[0]==="/"?B+=u.name:B+="/"+u.name,xe(B).then(()=>{F()})};let x=!1;const F=()=>{clearTimeout(bt),clearTimeout(yt),n(6,x=!0),bt=setTimeout(()=>{n(0,$=[]),Xn(K()).then(u=>{n(0,$=u.map(B=>{var de;if(B.type==="folder")return{type:"folder",name:B.name,modify:M(B.mtime),created:M(B.ctime)};{const Ke=B.name.split(".");return{type:"file",name:B.name,modify:M(B.mtime),created:M(B.ctime),size:B.size,fileType:(de=Ue==null?void 0:Ue[Ke.at(-1).toLowerCase()])!=null?de:Un,download:`${K()}/${B.name}`}}}))}).catch(u=>{console.log(u),Mt()}).finally(()=>{yt=setTimeout(()=>{n(6,x=!1)},2e3)})},300)};yn(()=>{F()});const K=()=>location.hash.replace("#/folder","/").replace("//","/"),L=async()=>{if(i.fromPath===K()){Q(pe,i=null,i),F();return}const u=Je(i.fromPath+"/"+i.itemValue.name),B=Je(K()+"/"+i.itemValue.name),[de,Ke]=await ze(Bn(u,B,i.itemValue.type));if(!Ke&&de)Q(pe,i=null,i),F();else if(de)alert(Ke);else return},ce=async u=>{if(u==="mkdir"){const[B,de]=await ze(On(K()));Oe(B,de,F)}else if(u==="upload"){const[B,de]=await ze(Jn(K()));Oe(B,de,F)}else u==="paste"&&await L()},fe=async u=>{const{type:B}=u.detail;await ce(B)},Y=async()=>{F()},se=async()=>{if(_.type==="file"){const[u,B]=await ze(Vn(Je(K()+"/"+_.name),_.name));Q(pe,i=null,i),Oe(u,B,F)}},E=async()=>{if(_.type==="folder"){const[u,B]=await ze(Gn(Je(K()+"/"+_.name),_.name));Q(pe,i=null,i),Oe(u,B,F)}},be=async u=>{u.shiftKey&&u.key===Te.Delete&&_&&se()},Ce=async()=>{if(_){const[u,B]=await ze(Wn(Je(K()+"/"+_.name),_.name,_.type));Oe(u,B,F)}},ae=()=>_&&pe.set({fromPath:K(),itemValue:_}),le=async u=>{if(u.ctrlKey){if(u.key===Te.X)return ae();if(u.key===Te.V)return await L()}},[Ne,ge,P]=Ie("file");ue(t,Ne,u=>n(17,v=u)),ue(t,ge,u=>n(18,d=u)),ue(t,P,u=>n(19,k=u));const[ee,te,S]=Ie("folder");ue(t,ee,u=>n(14,a=u)),ue(t,te,u=>n(15,g=u)),ue(t,S,u=>n(16,h=u));const[U,W,ie]=Ie("system");ue(t,U,u=>n(12,f=u)),ue(t,W,u=>n(13,r=u)),ue(t,ie,u=>n(11,c=u));function Gt(u){De.call(this,t,u)}function Ot(u){De.call(this,t,u)}const Jt=u=>{_===u&&D(u)},Wt=(u,B)=>{n(5,_=u),Q(ee,a=B.clientX,a),Q(te,g=B.clientY,g)},Bt=()=>{he(),Q(S,h=!0,h)},qt=u=>{n(5,_=u),he()},Zt=u=>D(u),Kt=u=>{_===u&&Ye(u.download,u.name)},Qt=(u,B)=>{n(5,_=u),Q(Ne,v=B.clientX,v),Q(ge,d=B.clientY,d)},It=()=>{he(),Q(P,k=!0,k)},Tt=u=>{n(5,_=u),he()},Rt=u=>Ye(u.download,u.name),Lt=()=>{he(),n(5,_=null)},Ft=u=>{he(),n(5,_=null),Q(ie,c=!0,c),Q(U,f=u.clientX,f),Q(W,r=u.clientY,r)},Yt=u=>{n(1,z=X.clientWidth),n(3,A=!0),n(2,N=u.pageX)};function Ut(u){ye[u?"unshift":"push"](()=>{X=u,n(4,X)})}const Pt=()=>{he()};function xt(u){x=u,n(6,x)}const Et=()=>{Q(pe,i=null,i),F()},en=()=>Q(P,k=!1,k),tn=()=>Q(P,k=!1,k),nn=()=>Q(P,k=!1,k),ln=()=>{_&&_.type==="file"&&Ye(_.download,_.name)},on=()=>Q(P,k=!1,k),sn=()=>Q(P,k=!1,k);function cn(u){k=u,P.set(k)}const fn=()=>Q(S,h=!1,h),rn=()=>Q(S,h=!1,h),an=()=>Q(S,h=!1,h),un=()=>Q(S,h=!1,h);function mn(u){h=u,S.set(h)}const dn=()=>ce("upload").then(()=>Q(ie,c=!1,c)),pn=()=>ce("mkdir").then(()=>Q(ie,c=!1,c)),hn=async()=>{await ce("paste"),Q(ie,c=!1,c)},_n=()=>{F(),Q(pe,i=null,i),Q(ie,c=!1,c)},vn=()=>{Q(ie,c=!1,c)};function $n(u){c=u,ie.set(c)}return t.$$set=u=>{"params"in u&&n(43,J=u.params)},t.$$.update=()=>{t.$$.dirty[1]&4096&&n(9,l=J.wild.split("/").filter(u=>!!u)),t.$$.dirty[0]&1&&n(8,s=$.filter(u=>u.type==="folder")),t.$$.dirty[0]&1&&n(7,o=$.filter(u=>u.type==="file"))},[$,z,N,A,X,_,x,o,s,l,i,c,f,r,a,g,h,v,d,k,V,C,D,F,K,ce,fe,Y,se,E,be,Ce,ae,le,Ne,ge,P,ee,te,S,U,W,ie,J,Gt,Ot,Jt,Wt,Bt,qt,Zt,Kt,Qt,It,Tt,Rt,Lt,Ft,Yt,Ut,Pt,xt,Et,en,tn,nn,ln,on,sn,cn,fn,rn,an,un,mn,dn,pn,hn,_n,vn,$n]}class St extends _e{constructor(e){super();ve(this,e,Tl,Il,$e,{params:43},null,[-1,-1,-1])}}function Rl(t){return Mn("/folder"),[]}class Ll extends _e{constructor(e){super();ve(this,e,Rl,null,$e,{})}}function Fl(t){let e=t[1]()+"",n;return{c(){n=G(e)},m(l,s){b(l,n,s)},p:Se,d(l){l&&y(n)}}}function Yl(t){let e;return{c(){e=w("div"),m(e,"slot","tabs"),m(e,"class","tabs")},m(n,l){b(n,e,l)},d(n){n&&y(e)}}}function Ul(t){let e,n;return e=new Vt({props:{showNavRefresh:!1,pathSteps:t[0],navRootIcon:"icon-download",navRootIconColor:"#4478d2",navRootPath:"download",$$slots:{tabs:[Yl],default:[Fl]},$$scope:{ctx:t}}}),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p(l,[s]){const o={};s&1&&(o.pathSteps=l[0]),s&8&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}function Pl(t,e,n){let l;const s=()=>location.hash.replace("#/download",""),o=()=>s().slice(1);return n(0,l=s().replace("#/","/").split("/").filter(i=>!!i)),[l,o]}class xl extends _e{constructor(e){super();ve(this,e,Pl,Ul,$e,{})}}var El={"/Download/*":xl,"/folder":St,"/folder/*":St,"*":Ll};function eo(t){let e,n;return e=new Cn({props:{routes:El}}),{c(){I(e.$$.fragment)},m(l,s){T(e,l,s),n=!0},p:Se,i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){O(e.$$.fragment,l),n=!1},d(l){R(e,l)}}}class to extends _e{constructor(e){super();ve(this,e,null,eo,$e,{})}}new to({target:document.getElementById("app")});export{no as __vite_legacy_guard};
