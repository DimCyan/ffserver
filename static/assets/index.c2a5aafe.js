var le=(l,e,t)=>new Promise((n,s)=>{var i=r=>{try{f(t.next(r))}catch(c){s(c)}},o=r=>{try{f(t.throw(r))}catch(c){s(c)}},f=r=>r.done?n(r.value):Promise.resolve(r.value).then(i,o);f((t=t.apply(l,e)).next())});import{S as ie,i as oe,s as re,c as ze,e as v,a as w,t as C,b as p,d as j,f as a,u as ke,g as be,h as we,j as q,k as Y,l as $,m as T,n as P,o as fe,p as Q,q as je,r as Te,v as _e,w as Ae,x as Se,y as Le,z as Ne,A as cl,B as pl,C as ne,D as al,E as se,F as ce,G as ul,H as ge,I as Me,J as ve,K as Pe,L as ae,M as ue,N as Ce,O as de,P as me,Q as hl,R as vl,T as ml}from"./vendor.b3a156c6.js";const yl=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};yl();const gl="/api";function Fe(l){return`${gl}/${l}`}function Ie(l,e){return`api:${l}/${e}`}function zl(l,e){return l.status===200}function kl(l,e){return l.status===404}function bl(l,e){return l.status===422}function dl(l){return le(this,null,function*(){const e=yield l.json();if(zl(l))return e;throw kl(l)?new Error(e.detail):bl(l)?new Error(JSON.stringify(e.detail)):new Error(JSON.stringify(e))})}function wl(l,e){return le(this,null,function*(){const t=yield fetch(Fe(l)+"/"+e,{method:"GET"});return yield dl(t)})}function _l(l,e,t){return le(this,null,function*(){const n=new FormData;for(const i in t)n.append(i,t[i]);const s=yield fetch(Fe(l)+"/"+e,{method:"POST",body:n});return yield dl(s)})}function jl(l){return le(this,null,function*(){try{return yield wl("folder",l)}catch(e){throw new Error(Ie("ls",e))}})}function qe(l,e){return le(this,null,function*(){const t=document.createElement("a");t.href=Fe("file")+"/"+l,t.download=e,t.click()})}function Tl(l){return le(this,null,function*(){const e=prompt("new folder name","new folder");if(!e)return!1;try{return yield _l("folder",l,{dirname:e}),!0}catch(t){throw new Error(Ie("mkdir",t))}})}function Sl(l){return new Promise((e,t)=>{const n=document.createElement("input");n.type="file",n.addEventListener("change",()=>le(this,null,function*(){const s=n.files[0];if(!s)return t("file select error");if(confirm(`Do you want to upload ${s.name}`))try{yield _l("file",l,{file:s}),e(!0)}catch(i){t(Ie("upload",i))}else e(!1)})),n.click()})}function Ll(l){let e,t,n,s,i,o;const f=l[2].default,r=ze(f,l,l[1],null);return{c(){e=v("div"),t=v("div"),r&&r.c(),n=w(),s=v("div"),i=C(l[0]),p(t,"class","group-items svelte-1peq39q"),p(s,"class","group-title svelte-1peq39q"),p(e,"class","group svelte-1peq39q")},m(c,_){j(c,e,_),a(e,t),r&&r.m(t,null),a(e,n),a(e,s),a(s,i),o=!0},p(c,[_]){r&&r.p&&(!o||_&2)&&ke(r,f,c,c[1],o?we(f,c[1],_,null):be(c[1]),null),(!o||_&1)&&q(i,c[0])},i(c){o||(Y(r,c),o=!0)},o(c){$(r,c),o=!1},d(c){c&&T(e),r&&r.d(c)}}}function Nl(l,e,t){let{$$slots:n={},$$scope:s}=e,{title:i=""}=e;return l.$$set=o=>{"title"in o&&t(0,i=o.title),"$$scope"in o&&t(1,s=o.$$scope)},[i,s,n]}class Ml extends ie{constructor(e){super();oe(this,e,Nl,Ll,re,{title:0})}}function Oe(l,e,t){const n=l.slice();return n[9]=e[t],n}function De(l){let e,t,n,s,i,o=l[0].list,f=[];for(let r=0;r<o.length;r+=1)f[r]=Je(Oe(l,o,r));return{c(){e=v("div");for(let r=0;r<f.length;r+=1)f[r].c();p(e,"class","menu svelte-1flwm6o")},m(r,c){j(r,e,c);for(let _=0;_<f.length;_+=1)f[_].m(e,null);n=!0,s||(i=P(e,"click",fe(l[5])),s=!0)},p(r,c){if(c&25){o=r[0].list;let _;for(_=0;_<o.length;_+=1){const m=Oe(r,o,_);f[_]?f[_].p(m,c):(f[_]=Je(m),f[_].c(),f[_].m(e,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=o.length}},i(r){n||(t&&t.end(1),n=!0)},o(r){t=je(e,Te,{}),n=!1},d(r){r&&T(e),_e(f,r),r&&t&&t.end(),s=!1,i()}}}function Je(l){let e,t=l[9]+"",n,s,i,o;function f(){return l[6](l[9])}return{c(){e=v("div"),n=C(t),s=w(),p(e,"class","item svelte-1flwm6o"),Q(e,"active",l[0].value===l[9])},m(r,c){j(r,e,c),a(e,n),a(e,s),i||(o=P(e,"click",fe(f)),i=!0)},p(r,c){l=r,c&1&&t!==(t=l[9]+"")&&q(n,t),c&1&&Q(e,"active",l[0].value===l[9])},d(r){r&&T(e),i=!1,o()}}}function Pl(l){let e,t,n,s,i,o,f,r,c,_,m,u,d,h=l[3]&&De(l);return{c(){e=v("div"),t=v("div"),n=v("i"),i=w(),o=v("div"),f=C(l[2]),r=w(),c=v("div"),c.innerHTML='<i class="iconfont icon-triangle-down svelte-1flwm6o"></i>',_=w(),h&&h.c(),p(n,"class",s=Ae(["iconfont",`icon-${l[1]}`].filter(Re).join(" "))+" svelte-1flwm6o"),p(t,"class","icon svelte-1flwm6o"),p(o,"class","name svelte-1flwm6o"),p(c,"class","down svelte-1flwm6o"),p(e,"class","select svelte-1flwm6o"),Q(e,"active",l[3])},m(y,b){j(y,e,b),a(e,t),a(t,n),a(e,i),a(e,o),a(o,f),a(e,r),a(e,c),a(e,_),h&&h.m(e,null),m=!0,u||(d=P(e,"click",fe(l[7])),u=!0)},p(y,[b]){(!m||b&2&&s!==(s=Ae(["iconfont",`icon-${y[1]}`].filter(Re).join(" "))+" svelte-1flwm6o"))&&p(n,"class",s),(!m||b&4)&&q(f,y[2]),y[3]?h?(h.p(y,b),b&8&&Y(h,1)):(h=De(y),h.c(),Y(h,1),h.m(e,null)):h&&(Se(),$(h,1,1,()=>{h=null}),Le()),b&8&&Q(e,"active",y[3])},i(y){m||(Y(h),m=!0)},o(y){$(h),m=!1},d(y){y&&T(e),h&&h.d(),u=!1,d()}}}const Re=l=>!!l;function Cl(l,e,t){let{menus:n}=e,{icon:s}=e,{name:i}=e;const o=Ne();let f=!1;const r=()=>{t(3,f=!1)};cl(()=>{document.addEventListener("click",r,!1)}),pl(()=>{document.removeEventListener("click",r,!1)});function c(u){ne.call(this,l,u)}const _=u=>{t(0,n.value=u,n),al().then(()=>{t(3,f=!1),o("menuClick",{item:u})})},m=()=>t(3,f=!f);return l.$$set=u=>{"menus"in u&&t(0,n=u.menus),"icon"in u&&t(1,s=u.icon),"name"in u&&t(2,i=u.name)},[n,s,i,f,o,c,_,m]}class Fl extends ie{constructor(e){super();oe(this,e,Cl,Pl,re,{menus:0,icon:1,name:2})}}function Ge(l,e,t){const n=l.slice();return n[10]=e[t],n}function Ve(l){let e;return{c(){e=v("div"),p(e,"class","loading svelte-jx6hp1")},m(t,n){j(t,e,n)},d(t){t&&T(e)}}}function Il(l){let e,t,n,s,i,o=l[2].length===0?"FFServer":"",f,r,c,_,m=l[2],u=[];for(let d=0;d<m.length;d+=1)u[d]=We(Ge(l,m,d));return{c(){e=v("div"),t=v("a"),n=v("i"),i=w(),f=C(o),r=w();for(let d=0;d<u.length;d+=1)u[d].c();p(n,"class",s="iconfont "+(l[2].length===0?"icon-server":"icon-folder-fill")+" svelte-jx6hp1"),p(t,"href","/folder"),p(t,"class","step main svelte-jx6hp1"),p(e,"class","steps svelte-jx6hp1")},m(d,h){j(d,e,h),a(e,t),a(t,n),a(t,i),a(t,f),a(e,r);for(let y=0;y<u.length;y+=1)u[y].m(e,null);c||(_=P(n,"click",Me(l[7])),c=!0)},p(d,h){if(h&4&&s!==(s="iconfont "+(d[2].length===0?"icon-server":"icon-folder-fill")+" svelte-jx6hp1")&&p(n,"class",s),h&4&&o!==(o=d[2].length===0?"FFServer":"")&&q(f,o),h&12){m=d[2];let y;for(y=0;y<m.length;y+=1){const b=Ge(d,m,y);u[y]?u[y].p(b,h):(u[y]=We(b),u[y].c(),u[y].m(e,null))}for(;y<u.length;y+=1)u[y].d(1);u.length=m.length}},d(d){d&&T(e),_e(u,d),c=!1,_()}}}function We(l){let e,t,n,s,i=l[10].path+"",o,f,r,c,_,m;function u(){return l[8](l[10])}return{c(){e=v("i"),t=w(),n=v("a"),s=v("div"),o=C(i),f=w(),p(e,"class","iconfont icon-step svelte-jx6hp1"),p(s,"class","svelte-jx6hp1"),p(n,"href",r=l[10].href),p(n,"class","step svelte-jx6hp1"),p(n,"title",c=l[10].path)},m(d,h){j(d,e,h),j(d,t,h),j(d,n,h),a(n,s),a(s,o),a(n,f),_||(m=P(n,"click",Me(u)),_=!0)},p(d,h){l=d,h&4&&i!==(i=l[10].path+"")&&q(o,i),h&4&&r!==(r=l[10].href)&&p(n,"href",r),h&4&&c!==(c=l[10].path)&&p(n,"title",c)},d(d){d&&T(e),d&&T(t),d&&T(n),_=!1,m()}}}function El(l){let e,t,n,s,i,o,f,r,c,_,m=l[0]&&Ve();function u(y,b){return Il}let h=u()(l);return{c(){e=v("div"),t=v("div"),n=v("div"),n.innerHTML='<i class="iconfont icon-arrow-up svelte-jx6hp1"></i>',s=w(),i=v("div"),m&&m.c(),o=w(),h.c(),f=w(),r=v("div"),r.innerHTML='<i class="iconfont icon-refresh svelte-jx6hp1"></i>',p(n,"class","step back svelte-jx6hp1"),p(t,"class","steps svelte-jx6hp1"),p(i,"class","path-nav svelte-jx6hp1"),Q(i,"active",Hl),p(r,"class","refresh svelte-jx6hp1"),p(e,"class","bar svelte-jx6hp1")},m(y,b){j(y,e,b),a(e,t),a(t,n),a(e,s),a(e,i),m&&m.m(i,null),a(i,o),h.m(i,null),a(e,f),a(e,r),c||(_=[P(n,"click",l[5]),P(r,"click",l[9])],c=!0)},p(y,[b]){y[0]?m||(m=Ve(),m.c(),m.m(i,o)):m&&(m.d(1),m=null),h.p(y,b)},i:se,o:se,d(y){y&&T(e),m&&m.d(),h.d(),c=!1,ce(_)}}}let Hl=!1;function Al(l,e,t){let{pathSteps:n=[]}=e,{loading:s=!1}=e,i="",o=[];const f=Ne(),r=()=>ul();function c(){i=this.value,t(1,i)}const _=()=>{ge("/folder").then(()=>{f("changeNav")})},m=d=>{ge(d.href).then(()=>{f("changeNav")})},u=()=>f("refresh");return l.$$set=d=>{"pathSteps"in d&&t(4,n=d.pathSteps),"loading"in d&&t(0,s=d.loading)},l.$$.update=()=>{if(l.$$.dirty&16){const d=[];for(let h=0;h<n.length;h++)h===0?d[h]={path:n[h],href:`/folder/${n[h]}`}:d[h]={path:n[h],href:`${d[h-1].href}/${n[h]}`};t(2,o=d)}},[s,i,o,f,n,r,c,_,m,u]}class ql extends ie{constructor(e){super();oe(this,e,Al,El,re,{pathSteps:4,loading:0})}}function Ye(l,e,t){const n=l.slice();return n[16]=e[t],n}function Ue(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Xe(l){let e,t=l[19]+"",n,s,i,o;function f(){return l[8](l[19])}return{c(){e=v("div"),n=C(t),s=w(),p(e,"class","tab svelte-puyiy3"),Q(e,"extra",l[21]===0),Q(e,"active",l[2]===l[19])},m(r,c){j(r,e,c),a(e,n),a(e,s),i||(o=P(e,"click",fe(f)),i=!0)},p(r,c){l=r,c&4&&Q(e,"active",l[2]===l[19])},d(r){r&&T(e),i=!1,o()}}}function Ol(l){let e;return{c(){e=v("div"),p(e,"class","empty")},m(t,n){j(t,e,n)},p:se,i:se,o:se,d(t){t&&T(e)}}}function Dl(l){let e,t,n,s;return t=new Ml({props:{title:"Current view",$$slots:{default:[Rl]},$$scope:{ctx:l}}}),{c(){e=v("div"),ae(t.$$.fragment),p(e,"class","panel svelte-puyiy3")},m(i,o){j(i,e,o),ue(t,e,null),s=!0},p(i,o){const f={};o&32776&&(f.$$scope={dirty:o,ctx:i}),t.$set(f)},i(i){s||(Y(t.$$.fragment,i),n&&n.end(1),s=!0)},o(i){$(t.$$.fragment,i),n=je(e,Te,{duration:200}),s=!1},d(i){i&&T(e),de(t),i&&n&&n.end()}}}function Jl(l){let e,t,n,s,i=Ke,o=[];for(let f=0;f<i.length;f+=1)o[f]=$e(Ye(l,i,f));return{c(){e=v("div"),t=v("div");for(let f=0;f<o.length;f+=1)o[f].c();p(t,"class","menu-wrapper svelte-puyiy3"),p(e,"class","menu svelte-puyiy3")},m(f,r){j(f,e,r),a(e,t);for(let c=0;c<o.length;c+=1)o[c].m(t,null);s=!0},p(f,r){if(r&36){i=Ke;let c;for(c=0;c<i.length;c+=1){const _=Ye(f,i,c);o[c]?o[c].p(_,r):(o[c]=$e(_),o[c].c(),o[c].m(t,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i(f){s||(n&&n.end(1),s=!0)},o(f){n=je(e,Te,{duration:200}),s=!1},d(f){f&&T(e),_e(o,f),f&&n&&n.end()}}}function Rl(l){let e,t,n;function s(o){l[10](o)}let i={icon:"order-list",name:"OrderList"};return l[3]!==void 0&&(i.menus=l[3]),e=new Fl({props:i}),ve.push(()=>Pe(e,"menus",s)),e.$on("menuClick",l[11]),{c(){ae(e.$$.fragment)},m(o,f){ue(e,o,f),n=!0},p(o,f){const r={};!t&&f&8&&(t=!0,r.menus=o[3],Ce(()=>t=!1)),e.$set(r)},i(o){n||(Y(e.$$.fragment,o),n=!0)},o(o){$(e.$$.fragment,o),n=!1},d(o){de(e,o)}}}function $e(l){let e,t,n,s,i=l[16].text+"",o,f,r,c;function _(){return l[9](l[16])}return{c(){e=v("div"),t=v("i"),s=w(),o=C(i),f=w(),p(t,"class",n="iconfont icon-"+l[16].icon+" svelte-puyiy3"),p(e,"class","menu-item svelte-puyiy3")},m(m,u){j(m,e,u),a(e,t),a(e,s),a(e,o),a(e,f),r||(c=P(e,"click",_),r=!0)},p(m,u){l=m},d(m){m&&T(e),r=!1,c()}}}function Gl(l){let e,t,n,s,i,o,f,r,c,_,m,u,d,h,y,b,H,J,k=Be,F=[];for(let z=0;z<k.length;z+=1)F[z]=Xe(Ue(l,k,z));const Z=[Jl,Dl,Ol],O=[];function A(z,M){return z[2]==="File"?0:z[2]==="View"?1:2}c=A(l),_=O[c]=Z[c](l);function R(z){l[12](z)}let x={pathSteps:l[1]};l[0]!==void 0&&(x.loading=l[0]),u=new ql({props:x}),ve.push(()=>Pe(u,"loading",R)),u.$on("refresh",l[13]),u.$on("changeNav",l[14]);const ee=l[6].default,G=ze(ee,l,l[15],null);return{c(){e=w(),t=v("div"),n=v("div"),n.innerHTML=`<i class="iconfont icon-folder-fill header-icon svelte-puyiy3"></i> 
    <i class="iconfont icon-divider header-divider svelte-puyiy3"></i>
    FFServer`,s=w(),i=v("div"),o=v("div");for(let z=0;z<F.length;z+=1)F[z].c();f=w(),r=v("div"),_.c(),m=w(),ae(u.$$.fragment),h=w(),y=v("div"),G&&G.c(),p(n,"class","header svelte-puyiy3"),p(o,"class","tabs svelte-puyiy3"),p(r,"class","eject svelte-puyiy3"),p(i,"class","tools svelte-puyiy3"),p(y,"class","slot-wrapper svelte-puyiy3"),p(t,"class","layout svelte-puyiy3")},m(z,M){j(z,e,M),j(z,t,M),a(t,n),a(t,s),a(t,i),a(i,o);for(let V=0;V<F.length;V+=1)F[V].m(o,null);a(i,f),a(i,r),O[c].m(r,null),a(t,m),ue(u,t,null),a(t,h),a(t,y),G&&G.m(y,null),b=!0,H||(J=[P(document.body,"click",l[4]),P(r,"click",fe(l[7]))],H=!0)},p(z,[M]){if(M&4){k=Be;let N;for(N=0;N<k.length;N+=1){const g=Ue(z,k,N);F[N]?F[N].p(g,M):(F[N]=Xe(g),F[N].c(),F[N].m(o,null))}for(;N<F.length;N+=1)F[N].d(1);F.length=k.length}let V=c;c=A(z),c===V?O[c].p(z,M):(Se(),$(O[V],1,1,()=>{O[V]=null}),Le(),_=O[c],_?_.p(z,M):(_=O[c]=Z[c](z),_.c()),Y(_,1),_.m(r,null));const W={};M&2&&(W.pathSteps=z[1]),!d&&M&1&&(d=!0,W.loading=z[0],Ce(()=>d=!1)),u.$set(W),G&&G.p&&(!b||M&32768)&&ke(G,ee,z,z[15],b?we(ee,z[15],M,null):be(z[15]),null)},i(z){b||(Y(_),Y(u.$$.fragment,z),Y(G,z),b=!0)},o(z){$(_),$(u.$$.fragment,z),$(G,z),b=!1},d(z){z&&T(e),z&&T(t),_e(F,z),O[c].d(),de(u),G&&G.d(z),H=!1,ce(J)}}}const Be=["File"],Ke=[{text:"Upload File",type:"upload",icon:"upload"},{text:"New Folder",type:"mkdir",icon:"new-folder"}];function Vl(l,e,t){let{$$slots:n={},$$scope:s}=e,{pathSteps:i=[]}=e,{pathNavLoading:o=!1}=e,f="",r={value:"name",list:["name","modify","type","size"]};const c=()=>{t(2,f="")},_=Ne();function m(k){ne.call(this,l,k)}const u=k=>{f===k?t(2,f=""):t(2,f=k)},d=k=>{_("FileMenuClick",{type:k.type}),al().then(()=>{t(2,f="")})};function h(k){r=k,t(3,r)}function y(k){ne.call(this,l,k)}function b(k){o=k,t(0,o)}function H(k){ne.call(this,l,k)}function J(k){ne.call(this,l,k)}return l.$$set=k=>{"pathSteps"in k&&t(1,i=k.pathSteps),"pathNavLoading"in k&&t(0,o=k.pathNavLoading),"$$scope"in k&&t(15,s=k.$$scope)},[o,i,f,r,c,_,n,m,u,d,h,y,b,H,J,s]}class Wl extends ie{constructor(e){super();oe(this,e,Vl,Gl,re,{pathSteps:1,pathNavLoading:0})}}const ye={js:"JavaScript",jsx:"JavaScript",ts:"TypeScript",tsx:"TypeScript",py:"Python",pyd:"Python",pyc:"Python",html:"HTML",css:"CSS",scss:"CSS",less:"CSS",stylus:"CSS",png:"Image",jpg:"Image",jpeg:"Image",gif:"Image",webp:"Image",pngx:"Image",psd:"Adobe PS",psb:"Adobe PS",ai:"Adobe AI",doc:"Microsoft Word",docx:"Microsoft Word",xls:"Microsoft Excel",xlsx:"Microsoft Excel",ppt:"Microsoft PPT",pptx:"Microsoft PPT",mp3:"Audio",mp4:"Video",mov:"Video",svg:"SVG",txt:"Plain Text"},L={JavaScript:{icon:"file-js",color:"rgb(238,201,44)"},Python:{icon:"file-python",color:"rgb(59,117,162)"},Image:{icon:"file-image"},["Plain Text"]:{icon:"file-text"}},he={icon:"file"},Yl="Unknown";function Qe(l){return le(this,null,function*(){try{return[yield l,null]}catch(e){return[null,e]}})}function Ze(l){let e,t,n,s,i;const o=l[4].default,f=ze(o,l,l[3],null);return{c(){e=v("div"),f&&f.c(),p(e,"class","menu svelte-mboojw"),p(e,"style",t=`left:${l[1].x}px;top:${l[1].y}px;`)},m(r,c){j(r,e,c),f&&f.m(e,null),n=!0,s||(i=P(e,"click",fe(l[5])),s=!0)},p(r,c){f&&f.p&&(!n||c&8)&&ke(f,o,r,r[3],n?we(o,r[3],c,null):be(r[3]),null),(!n||c&2&&t!==(t=`left:${r[1].x}px;top:${r[1].y}px;`))&&p(e,"style",t)},i(r){n||(Y(f,r),n=!0)},o(r){$(f,r),n=!1},d(r){r&&T(e),f&&f.d(r),s=!1,i()}}}function Ul(l){let e,t,n,s,i,o=l[0]&&Ze(l);return{c(){e=w(),o&&o.c(),t=me()},m(f,r){j(f,e,r),o&&o.m(f,r),j(f,t,r),n=!0,s||(i=[P(document.body,"click",l[6]),P(document.body,"mousemove",l[2])],s=!0)},p(f,[r]){f[0]?o?(o.p(f,r),r&1&&Y(o,1)):(o=Ze(f),o.c(),Y(o,1),o.m(t.parentNode,t)):o&&(Se(),$(o,1,1,()=>{o=null}),Le())},i(f){n||(Y(o),n=!0)},o(f){$(o),n=!1},d(f){f&&T(e),o&&o.d(f),f&&T(t),s=!1,ce(i)}}}function Xl(l,e,t){let{$$slots:n={},$$scope:s}=e,{show:i=!0}=e,o={x:0,y:0};const f=_=>{t(1,o={x:_.clientX,y:_.clientY})};function r(_){ne.call(this,l,_)}const c=()=>t(0,i=!1);return l.$$set=_=>{"show"in _&&t(0,i=_.show),"$$scope"in _&&t(3,s=_.$$scope)},[i,o,f,s,n,r,c]}class $l extends ie{constructor(e){super();oe(this,e,Xl,Ul,re,{show:0})}}function xe(l,e,t){const n=l.slice();return n[30]=e[t],n}function Bl(l){let e,t,n,s,i,o,f=l[30].name+"",r,c,_,m=l[30].modify+"",u,d,h,y=l[30].modify+"",b,H,J,k=l[30].size+"",F,Z,O,A;function R(){return l[20](l[30])}function x(){return l[21](l[30])}function ee(){return l[22](l[30])}function G(){return l[23](l[30])}return{c(){var z,M,V,W;e=v("tr"),t=v("td"),n=v("i"),o=w(),r=C(f),c=w(),_=v("td"),u=C(m),d=w(),h=v("td"),b=C(y),H=w(),J=v("td"),F=C(k),Z=w(),p(n,"class",s="iconfont icon-"+((M=(z=L==null?void 0:L[l[30].fileType])==null?void 0:z.icon)!=null?M:he.icon)+" svelte-13hzjzz"),p(n,"style",i=(V=L==null?void 0:L[l[30].fileType])!=null&&V.color?`color:${(W=L==null?void 0:L[l[30].fileType])==null?void 0:W.color}`:""),p(t,"class","svelte-13hzjzz"),p(_,"class","svelte-13hzjzz"),p(h,"class","svelte-13hzjzz"),p(J,"class","svelte-13hzjzz"),p(e,"class","svelte-13hzjzz"),Q(e,"active",l[5]===l[30])},m(z,M){j(z,e,M),a(e,t),a(t,n),a(t,o),a(t,r),a(e,c),a(e,_),a(_,u),a(e,d),a(e,h),a(h,b),a(e,H),a(e,J),a(J,F),a(e,Z),O||(A=[P(e,"touchend",R,{passive:!0}),P(e,"contextmenu",x),P(e,"dblclick",ee),P(e,"click",fe(G))],O=!0)},p(z,M){var V,W,N,g;l=z,M[0]&16&&s!==(s="iconfont icon-"+((W=(V=L==null?void 0:L[l[30].fileType])==null?void 0:V.icon)!=null?W:he.icon)+" svelte-13hzjzz")&&p(n,"class",s),M[0]&16&&i!==(i=(N=L==null?void 0:L[l[30].fileType])!=null&&N.color?`color:${(g=L==null?void 0:L[l[30].fileType])==null?void 0:g.color}`:"")&&p(n,"style",i),M[0]&16&&f!==(f=l[30].name+"")&&q(r,f),M[0]&16&&m!==(m=l[30].modify+"")&&q(u,m),M[0]&16&&y!==(y=l[30].modify+"")&&q(b,y),M[0]&16&&k!==(k=l[30].size+"")&&q(F,k),M[0]&48&&Q(e,"active",l[5]===l[30])},d(z){z&&T(e),O=!1,ce(A)}}}function Kl(l){let e,t,n,s,i=l[30].name+"",o,f,r,c=l[30].modify+"",_,m,u,d=l[30].modify+"",h,y,b,H,J,k;function F(){return l[17](l[30])}function Z(){return l[18](l[30])}function O(){return l[19](l[30])}return{c(){e=v("tr"),t=v("td"),n=v("i"),s=w(),o=C(i),f=w(),r=v("td"),_=C(c),m=w(),u=v("td"),h=C(d),y=w(),b=v("td"),H=w(),p(n,"class","iconfont icon-folder-fill svelte-13hzjzz"),p(t,"class","svelte-13hzjzz"),p(r,"class","svelte-13hzjzz"),p(u,"class","svelte-13hzjzz"),p(b,"class","svelte-13hzjzz"),p(e,"class","svelte-13hzjzz"),Q(e,"active",l[5]===l[30])},m(A,R){j(A,e,R),a(e,t),a(t,n),a(t,s),a(t,o),a(e,f),a(e,r),a(r,_),a(e,m),a(e,u),a(u,h),a(e,y),a(e,b),a(e,H),J||(k=[P(e,"touchend",F,{passive:!0}),P(e,"dblclick",Z),P(e,"click",O)],J=!0)},p(A,R){l=A,R[0]&16&&i!==(i=l[30].name+"")&&q(o,i),R[0]&16&&c!==(c=l[30].modify+"")&&q(_,c),R[0]&16&&d!==(d=l[30].modify+"")&&q(h,d),R[0]&48&&Q(e,"active",l[5]===l[30])},d(A){A&&T(e),J=!1,ce(k)}}}function el(l){let e;function t(i,o){return i[30].type==="folder"?Kl:Bl}let n=t(l),s=n(l);return{c(){s.c(),e=me()},m(i,o){s.m(i,o),j(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){s.d(i),i&&T(e)}}}function Ql(l){let e=l[4].length+"",t,n;return{c(){t=C(e),n=C(" Items")},m(s,i){j(s,t,i),j(s,n,i)},p(s,i){i[0]&16&&e!==(e=s[4].length+"")&&q(t,e)},d(s){s&&T(t),s&&T(n)}}}function Zl(l){let e=l[5].name+"",t;return{c(){t=C(e)},m(n,s){j(n,t,s)},p(n,s){s[0]&32&&e!==(e=n[5].name+"")&&q(t,e)},d(n){n&&T(t)}}}function ll(l){let e=l[5].fileType+"",t,n;return{c(){t=C(e),n=C(" File")},m(s,i){j(s,t,i),j(s,n,i)},p(s,i){i[0]&32&&e!==(e=s[5].fileType+"")&&q(t,e)},d(s){s&&T(t),s&&T(n)}}}function xl(l){let e;return{c(){e=v("i"),p(e,"class","iconfont icon-folder svelte-13hzjzz")},m(t,n){j(t,e,n)},p:se,d(t){t&&T(e)}}}function et(l){let e;function t(i,o){return i[5].type==="folder"?tt:lt}let n=t(l),s=n(l);return{c(){s.c(),e=me()},m(i,o){s.m(i,o),j(i,e,o)},p(i,o){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},d(i){s.d(i),i&&T(e)}}}function lt(l){let e,t,n;return{c(){var s,i,o,f;e=v("i"),p(e,"class",t="iconfont icon-"+((i=(s=L==null?void 0:L[l[5].fileType])==null?void 0:s.icon)!=null?i:he.icon)+" svelte-13hzjzz"),p(e,"style",n=(o=L==null?void 0:L[l[5].fileType])!=null&&o.color?`color:${(f=L==null?void 0:L[l[5].fileType])==null?void 0:f.color}`:"")},m(s,i){j(s,e,i)},p(s,i){var o,f,r,c;i[0]&32&&t!==(t="iconfont icon-"+((f=(o=L==null?void 0:L[s[5].fileType])==null?void 0:o.icon)!=null?f:he.icon)+" svelte-13hzjzz")&&p(e,"class",t),i[0]&32&&n!==(n=(r=L==null?void 0:L[s[5].fileType])!=null&&r.color?`color:${(c=L==null?void 0:L[s[5].fileType])==null?void 0:c.color}`:"")&&p(e,"style",n)},d(s){s&&T(e)}}}function tt(l){let e;return{c(){e=v("i"),p(e,"class","iconfont icon-folder-fill svelte-13hzjzz")},m(t,n){j(t,e,n)},p:se,d(t){t&&T(e)}}}function tl(l){let e,t,n,s=l[5].modify+"",i,o,f,r,c,_=l[5].created+"",m,u,d=l[5].type==="file"&&nl(l);return{c(){e=v("div"),t=v("class"),n=C("Modififaction Time:"),i=C(s),o=w(),d&&d.c(),f=w(),r=v("div"),c=C("Created Time:"),m=C(_),p(t,"class","item svelte-13hzjzz"),p(r,"class","item svelte-13hzjzz"),p(e,"class","others svelte-13hzjzz"),p(e,"style",u=`width:${l[0]-40}px`)},m(h,y){j(h,e,y),a(e,t),a(t,n),a(t,i),a(e,o),d&&d.m(e,null),a(e,f),a(e,r),a(r,c),a(r,m)},p(h,y){y[0]&32&&s!==(s=h[5].modify+"")&&q(i,s),h[5].type==="file"?d?d.p(h,y):(d=nl(h),d.c(),d.m(e,f)):d&&(d.d(1),d=null),y[0]&32&&_!==(_=h[5].created+"")&&q(m,_),y[0]&1&&u!==(u=`width:${h[0]-40}px`)&&p(e,"style",u)},d(h){h&&T(e),d&&d.d()}}}function nl(l){let e,t,n=l[5].size+"",s;return{c(){e=v("div"),t=C("Size:"),s=C(n),p(e,"class","item svelte-13hzjzz")},m(i,o){j(i,e,o),a(e,t),a(e,s)},p(i,o){o[0]&32&&n!==(n=i[5].size+"")&&q(s,n)},d(i){i&&T(e)}}}function sl(l){let e,t,n=l[5].type+"",s,i,o,f=l[5].type==="file"&&il(l);return{c(){e=v("div"),t=C("Selected 1 "),s=C(n),i=w(),f&&f.c(),o=me(),p(e,"class","info svelte-13hzjzz")},m(r,c){j(r,e,c),a(e,t),a(e,s),j(r,i,c),f&&f.m(r,c),j(r,o,c)},p(r,c){c[0]&32&&n!==(n=r[5].type+"")&&q(s,n),r[5].type==="file"?f?f.p(r,c):(f=il(r),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},d(r){r&&T(e),r&&T(i),f&&f.d(r),r&&T(o)}}}function il(l){let e,t=l[5].size+"",n;return{c(){e=v("div"),n=C(t),p(e,"class","info svelte-13hzjzz")},m(s,i){j(s,e,i),a(e,n)},p(s,i){i[0]&32&&t!==(t=s[5].size+"")&&q(n,t)},d(s){s&&T(e)}}}function nt(l){let e,t,n,s,i,o,f,r,c,_,m,u,d,h,y,b,H,J,k,F,Z,O,A,R,x=l[4].length+"",ee,G,z,M,V,W=l[4],N=[];for(let S=0;S<W.length;S+=1)N[S]=el(xe(l,W,S));function g(S,U){return S[5]?Zl:Ql}let I=g(l),D=I(l),E=l[5]&&l[5].type==="file"&&ll(l);function Ee(S,U){return S[5]?et:xl}let pe=Ee(l),te=pe(l),B=l[5]&&tl(l),K=l[5]&&sl(l);return{c(){e=v("div"),t=v("div"),n=v("div"),s=v("table"),i=v("thead"),i.innerHTML=`<tr class="svelte-13hzjzz"><th class="svelte-13hzjzz">Name</th> 
              <th class="svelte-13hzjzz">Modififaction Time</th> 
              <th class="svelte-13hzjzz">Type</th> 
              <th class="svelte-13hzjzz">Size</th></tr>`,o=w(),f=v("tbody");for(let S=0;S<N.length;S+=1)N[S].c();r=w(),c=v("div"),_=v("div"),m=w(),u=v("div"),d=v("div"),D.c(),y=w(),b=v("div"),E&&E.c(),J=w(),k=v("div"),te.c(),Z=w(),B&&B.c(),O=w(),A=v("div"),R=v("div"),ee=C(x),G=C(" Items"),z=w(),K&&K.c(),p(s,"class","svelte-13hzjzz"),p(n,"class","file-list svelte-13hzjzz"),p(_,"class","moveable svelte-13hzjzz"),p(_,"draggable",!1),Q(_,"active",l[2]),p(d,"class","title svelte-13hzjzz"),p(d,"style",h=`width:${l[0]-40}px`),p(b,"class","type svelte-13hzjzz"),p(b,"style",H=`width:${l[0]-40}px`),p(k,"class","icon svelte-13hzjzz"),p(k,"style",F=`width:${l[0]-40}px`),p(u,"class","data svelte-13hzjzz"),p(c,"class","file-info svelte-13hzjzz"),p(t,"class","content svelte-13hzjzz"),p(R,"class","info svelte-13hzjzz"),p(A,"class","footer svelte-13hzjzz"),p(e,"class","container svelte-13hzjzz"),p(e,"draggable",!1)},m(S,U){j(S,e,U),a(e,t),a(t,n),a(n,s),a(s,i),a(s,o),a(s,f);for(let X=0;X<N.length;X+=1)N[X].m(f,null);a(t,r),a(t,c),a(c,_),a(c,m),a(c,u),a(u,d),D.m(d,null),a(u,y),a(u,b),E&&E.m(b,null),a(u,J),a(u,k),te.m(k,null),a(u,Z),B&&B.m(u,null),l[25](c),a(e,O),a(e,A),a(A,R),a(R,ee),a(R,G),a(A,z),K&&K.m(A,null),M||(V=[P(s,"click",fe(l[15])),P(_,"mousedown",l[24]),P(e,"click",l[26]),P(e,"blur",l[9]),P(e,"mouseup",l[9])],M=!0)},p(S,U){if(U[0]&1072){W=S[4];let X;for(X=0;X<W.length;X+=1){const He=xe(S,W,X);N[X]?N[X].p(He,U):(N[X]=el(He),N[X].c(),N[X].m(f,null))}for(;X<N.length;X+=1)N[X].d(1);N.length=W.length}U[0]&4&&Q(_,"active",S[2]),I===(I=g(S))&&D?D.p(S,U):(D.d(1),D=I(S),D&&(D.c(),D.m(d,null))),U[0]&1&&h!==(h=`width:${S[0]-40}px`)&&p(d,"style",h),S[5]&&S[5].type==="file"?E?E.p(S,U):(E=ll(S),E.c(),E.m(b,null)):E&&(E.d(1),E=null),U[0]&1&&H!==(H=`width:${S[0]-40}px`)&&p(b,"style",H),pe===(pe=Ee(S))&&te?te.p(S,U):(te.d(1),te=pe(S),te&&(te.c(),te.m(k,null))),U[0]&1&&F!==(F=`width:${S[0]-40}px`)&&p(k,"style",F),S[5]?B?B.p(S,U):(B=tl(S),B.c(),B.m(u,null)):B&&(B.d(1),B=null),U[0]&16&&x!==(x=S[4].length+"")&&q(ee,x),S[5]?K?K.p(S,U):(K=sl(S),K.c(),K.m(A,null)):K&&(K.d(1),K=null)},d(S){S&&T(e),_e(N,S),D.d(),E&&E.d(),te.d(),B&&B.d(),l[25](null),K&&K.d(),M=!1,ce(V)}}}function st(l){let e,t,n,s,i,o,f,r,c;function _(u){l[27](u)}let m={pathSteps:l[7],$$slots:{default:[nt]},$$scope:{ctx:l}};return l[6]!==void 0&&(m.pathNavLoading=l[6]),t=new Wl({props:m}),ve.push(()=>Pe(t,"pathNavLoading",_)),t.$on("refresh",l[11]),t.$on("changeNav",l[11]),t.$on("FileMenuClick",l[12]),o=new $l({}),{c(){e=w(),ae(t.$$.fragment),s=w(),i=v("div"),ae(o.$$.fragment),p(i,"class","contentmenus")},m(u,d){j(u,e,d),ue(t,u,d),j(u,s,d),j(u,i,d),ue(o,i,null),f=!0,r||(c=[P(window,"hashchange",l[13]),P(document.body,"blur",l[9]),P(document.body,"mouseup",l[9]),P(document.body,"mousemove",l[8]),P(document.body,"contextmenu",Me(l[16]))],r=!0)},p(u,d){const h={};d[0]&128&&(h.pathSteps=u[7]),d[0]&63|d[1]&4&&(h.$$scope={dirty:d,ctx:u}),!n&&d[0]&64&&(n=!0,h.pathNavLoading=u[6],Ce(()=>n=!1)),t.$set(h)},i(u){f||(Y(t.$$.fragment,u),Y(o.$$.fragment,u),f=!0)},o(u){$(t.$$.fragment,u),$(o.$$.fragment,u),f=!1},d(u){u&&T(e),de(t,u),u&&T(s),u&&T(i),de(o),r=!1,ce(c)}}}let ol,rl;function it(l,e,t){let n,{params:s={wild:""}}=e;const i=g=>hl(g).format("YYYY/MM/DD hh:mm:ss");let o=278,f=0,r=!1,c;const _=g=>{if(r){const I=g.pageX-f;t(3,c.style.width=`${o-I}px`,c)}},m=()=>{var g;t(2,r=!1),t(0,o=(g=c.clientWidth)!=null?g:278)};let u=[],d=null;const h=g=>{let I=location.hash.replace("#/","/");g.name[0]==="/"?I+=g.name:I+="/"+g.name,ge(I).then(()=>{b()})};let y=!1;const b=()=>{clearTimeout(ol),clearTimeout(rl),t(6,y=!0),ol=setTimeout(()=>{t(4,u=[]),jl(H()).then(g=>{t(4,u=g.map(I=>{var D;if(I.type==="folder")return{type:"folder",name:I.name,modify:i(I.mtime),created:i(I.ctime)};{const E=I.name.split(".");return{type:"file",name:I.name,modify:i(I.mtime),created:i(I.ctime),size:I.size,fileType:(D=ye==null?void 0:ye[E.at(-1).toLowerCase()])!=null?D:Yl,download:`${H()}/${I.name}`}}}))}).catch(g=>{console.log(g),ul()}).finally(()=>{rl=setTimeout(()=>{t(6,y=!1)},2e3)})},300)};cl(()=>{b()});const H=()=>location.hash.replace("#/folder","/").replace("//","/"),J=g=>le(this,null,function*(){const{type:I}=g.detail;if(I==="mkdir"){const[D,E]=yield Qe(Tl(H()));if(!E&&D)b();else if(D)alert(E);else return}else if(I==="upload"){const[D,E]=yield Qe(Sl(H()));if(!E&&D)b();else if(D)alert(E);else return}}),k=()=>le(this,null,function*(){b()});function F(g){ne.call(this,l,g)}function Z(g){ne.call(this,l,g)}const O=g=>{d===g&&h(g)},A=g=>h(g),R=g=>t(5,d=g),x=g=>{d===g&&qe(g.download,g.name)},ee=g=>{t(5,d=g)},G=g=>qe(g.download,g.name),z=g=>t(5,d=g),M=g=>{t(0,o=c.clientWidth),t(2,r=!0),t(1,f=g.pageX)};function V(g){ve[g?"unshift":"push"](()=>{c=g,t(3,c)})}const W=()=>t(5,d=void 0);function N(g){y=g,t(6,y)}return l.$$set=g=>{"params"in g&&t(14,s=g.params)},l.$$.update=()=>{l.$$.dirty[0]&16384&&t(7,n=s.wild.split("/").filter(g=>!!g))},[o,f,r,c,u,d,y,n,_,m,h,b,J,k,s,F,Z,O,A,R,x,ee,G,z,M,V,W,N]}class fl extends ie{constructor(e){super();oe(this,e,it,st,re,{params:14},null,[-1,-1])}}function ot(l){return vl("/folder"),[]}class rt extends ie{constructor(e){super();oe(this,e,ot,null,re,{})}}var ft={"/folder":fl,"/folder/*":fl,"*":rt};function ct(l){let e,t;return e=new ml({props:{routes:ft}}),{c(){ae(e.$$.fragment)},m(n,s){ue(e,n,s),t=!0},p:se,i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){de(e,n)}}}class at extends ie{constructor(e){super();oe(this,e,null,ct,re,{})}}new at({target:document.getElementById("app")});
