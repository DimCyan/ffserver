import{S as de,i as pe,s as me,e as $,a as d,b as q,d as M,c as S,t as oe,f as u,l as A,n as je,r as qe,g as Ue,p as bt,h as Re,j as H,k as De,m as U,o as Ve,w as Le,q as xt,u as ye,v as Xe,x as He,y as Z,z as Q,A as ke,B as G,C as wt,D as O,E as kt,F as We,G as Ae,H as ze,I as Ge,J as T,K as ae,L as qt,M as be,N as I,O as Pt,P as Et,Q as el,R as xe,T as tl,U as ll,V as Pe,W as nl,X as sl}from"./vendor.844f1fe7.js";function _n(){import("data:text/javascript,")}const ol=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function l(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=l(o);fetch(o.href,s)}};ol();const il="/api";function Je(e){return`${il}/${e}`}function Me(e,t){return`api:${e}/${t}`}function cl(e,t){return e.status===200}function rl(e,t){return e.status===404}function fl(e,t){return e.status===422}async function Ze(e){const t=await e.json();if(cl(e))return t;throw rl(e)?new Error(t.detail):fl(e)?new Error(JSON.stringify(t.detail)):new Error(JSON.stringify(t))}async function al(e,t){const l=await fetch(Je(e)+"/"+t,{method:"GET"});return await Ze(l)}async function Mt(e,t,l){const n=new FormData;for(const s in l)n.append(s,l[s]);const o=await fetch(Je(e)+"/"+t,{method:"POST",body:n});return await Ze(o)}async function St(e,t){const l=await fetch(Je(e)+"/"+t,{method:"DELETE"});return await Ze(l)}async function ul(e,t,l){const n=new FormData;for(const s in l)n.append(s,l[s]);const o=await fetch(Je(e)+"/"+t,{method:"PUT",body:n});return await Ze(o)}async function dl(e){try{return await al("folder",e)}catch(t){throw new Error(Me("ls",t))}}async function pl(e,t){try{return confirm(`You want to delete file ${t||e}?`)?(await St("file",e),!0):!1}catch(l){throw new Error(Me("rm -f",l))}}async function ml(e,t){try{return confirm(`You want to delete folder ${t||e}?`)?(await St("folder",e),!0):!1}catch(l){throw new Error(Me("rm -rf",l))}}async function Fe(e,t){const l=document.createElement("a");l.href=Je("file")+"/"+e,l.download=t,l.click()}async function hl(e){const t=prompt("new folder name","new folder");if(!t)return!1;try{return await Mt("folder",e,{dirname:t}),!0}catch(l){throw new Error(Me("mkdir",l))}}function _l(e){return new Promise((t,l)=>{const n=document.createElement("input");n.type="file",n.addEventListener("change",async()=>{const o=n.files[0];if(!o)return l("file select error");if(confirm(`Do you want to upload ${o.name}`))try{await Mt("file",e,{file:o}),t(!0)}catch(s){l(Me("upload",s))}else t(!1)}),n.click()})}async function vl(e,t,l="file"){const n=prompt(`replace ${l} name`,t);if(!t)return!1;try{return await ul(l,e,{new_path:e.replace(t,n)}),!0}catch(o){throw new Error(Me("rename",o))}}function Ee(e,t,l){const n=e.slice();return n[10]=t[l],n}function et(e){let t;return{c(){t=$("div"),d(t,"class","loading svelte-1dmaesx")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function $l(e){let t,l,n,o,s,c=e[2].length===0?"FFServer":"",i,r,f,p,_=e[2],h=[];for(let a=0;a<_.length;a+=1)h[a]=tt(Ee(e,_,a));return{c(){t=$("div"),l=$("a"),n=$("i"),s=S(),i=H(c),r=S();for(let a=0;a<h.length;a+=1)h[a].c();d(n,"class",o="iconfont "+(e[2].length===0?"icon-server":"icon-folder-fill")+" svelte-1dmaesx"),d(l,"href","/folder"),d(l,"class","step main svelte-1dmaesx"),d(t,"class","steps svelte-1dmaesx")},m(a,m){q(a,t,m),u(t,l),u(l,n),u(l,s),u(l,i),u(t,r);for(let y=0;y<h.length;y+=1)h[y].m(t,null);f||(p=A(n,"click",De(e[7])),f=!0)},p(a,m){if(m&4&&o!==(o="iconfont "+(a[2].length===0?"icon-server":"icon-folder-fill")+" svelte-1dmaesx")&&d(n,"class",o),m&4&&c!==(c=a[2].length===0?"FFServer":"")&&U(i,c),m&12){_=a[2];let y;for(y=0;y<_.length;y+=1){const C=Ee(a,_,y);h[y]?h[y].p(C,m):(h[y]=tt(C),h[y].c(),h[y].m(t,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=_.length}},d(a){a&&M(t),Ve(h,a),f=!1,p()}}}function tt(e){let t,l,n,o,s=e[10].path+"",c,i,r,f,p,_;function h(){return e[8](e[10])}return{c(){t=$("i"),l=S(),n=$("a"),o=$("div"),c=H(s),i=S(),d(t,"class","iconfont icon-step svelte-1dmaesx"),d(o,"class","svelte-1dmaesx"),d(n,"href",r=e[10].href),d(n,"class","step svelte-1dmaesx"),d(n,"title",f=e[10].path)},m(a,m){q(a,t,m),q(a,l,m),q(a,n,m),u(n,o),u(o,c),u(n,i),p||(_=A(n,"click",De(h)),p=!0)},p(a,m){e=a,m&4&&s!==(s=e[10].path+"")&&U(c,s),m&4&&r!==(r=e[10].href)&&d(n,"href",r),m&4&&f!==(f=e[10].path)&&d(n,"title",f)},d(a){a&&M(t),a&&M(l),a&&M(n),p=!1,_()}}}function gl(e){let t,l,n,o,s,c,i,r,f,p,_=e[0]&&et();function h(y,C){return $l}let m=h()(e);return{c(){t=$("div"),l=$("div"),n=$("div"),n.innerHTML='<i class="iconfont icon-arrow-up svelte-1dmaesx"></i>',o=S(),s=$("div"),_&&_.c(),c=S(),m.c(),i=S(),r=$("div"),r.innerHTML='<i class="iconfont icon-refresh svelte-1dmaesx"></i>',d(n,"class","step back svelte-1dmaesx"),d(l,"class","steps svelte-1dmaesx"),d(s,"class","path-nav svelte-1dmaesx"),oe(s,"active",yl),d(r,"class","refresh svelte-1dmaesx"),d(t,"class","bar svelte-1dmaesx")},m(y,C){q(y,t,C),u(t,l),u(l,n),u(t,o),u(t,s),_&&_.m(s,null),u(s,c),m.m(s,null),u(t,i),u(t,r),f||(p=[A(n,"click",e[5]),A(r,"click",e[9])],f=!0)},p(y,[C]){y[0]?_||(_=et(),_.c(),_.m(s,c)):_&&(_.d(1),_=null),m.p(y,C)},i:je,o:je,d(y){y&&M(t),_&&_.d(),m.d(),f=!1,qe(p)}}}let yl=!1;function bl(e,t,l){let{pathSteps:n=[]}=t,{loading:o=!1}=t,s="",c=[];const i=Ue(),r=()=>bt();function f(){s=this.value,l(1,s)}const p=()=>{Re("/folder").then(()=>{i("changeNav")})},_=a=>{Re(a.href).then(()=>{i("changeNav")})},h=()=>i("refresh");return e.$$set=a=>{"pathSteps"in a&&l(4,n=a.pathSteps),"loading"in a&&l(0,o=a.loading)},e.$$.update=()=>{if(e.$$.dirty&16){const a=[];for(let m=0;m<n.length;m++)m===0?a[m]={path:n[m],href:`/folder/${n[m]}`}:a[m]={path:n[m],href:`${a[m-1].href}/${n[m]}`};l(2,c=a)}},[o,s,c,i,n,r,f,p,_,h]}class wl extends de{constructor(t){super();pe(this,t,bl,gl,me,{pathSteps:4,loading:0})}}const Ye={};function ue(){for(const e in Ye)Ye[e].set(!1)}function Be(e,t=!1){const l=Le(t);Ye[e]=l;const n=Le(0),o=Le(0);return[n,o,l]}function lt(e,t,l){const n=e.slice();return n[13]=t[l],n}function nt(e){let t,l,n,o,s=ot,c=[];for(let i=0;i<s.length;i+=1)c[i]=st(lt(e,s,i));return{c(){t=$("div"),l=$("div");for(let i=0;i<c.length;i+=1)c[i].c();d(l,"class","menu-wrapper svelte-puyiy3"),d(t,"class","menu svelte-puyiy3")},m(i,r){q(i,t,r),u(t,l);for(let f=0;f<c.length;f+=1)c[f].m(l,null);o=!0},p(i,r){if(r&12){s=ot;let f;for(f=0;f<s.length;f+=1){const p=lt(i,s,f);c[f]?c[f].p(p,r):(c[f]=st(p),c[f].c(),c[f].m(l,null))}for(;f<c.length;f+=1)c[f].d(1);c.length=s.length}},i(i){o||(n&&n.end(1),o=!0)},o(i){n=xt(t,qt,{duration:200}),o=!1},d(i){i&&M(t),Ve(c,i),i&&n&&n.end()}}}function st(e){let t,l,n,o=e[13].text+"",s,c,i,r;function f(){return e[9](e[13])}return{c(){t=$("div"),l=$("i"),n=S(),s=H(o),c=S(),d(l,"class","iconfont icon-"+e[13].icon+" svelte-puyiy3"),d(t,"class","menu-item svelte-puyiy3")},m(p,_){q(p,t,_),u(t,l),u(t,n),u(t,s),u(t,c),i||(r=A(t,"click",f),i=!0)},p(p,_){e=p},d(p){p&&M(t),i=!1,r()}}}function kl(e){let t,l,n,o,s,c,i,r,f,p,_,h,a,m,y,C,N=e[2]&&nt(e);function B(g){e[10](g)}let R={pathSteps:e[1]};e[0]!==void 0&&(R.loading=e[0]),p=new wl({props:R}),ye.push(()=>Xe(p,"loading",B)),p.$on("refresh",e[11]),p.$on("changeNav",e[12]);const w=e[6].default,b=He(w,e,e[5],null);return{c(){t=$("div"),l=$("div"),l.innerHTML=`<i class="iconfont icon-folder-fill header-icon svelte-puyiy3"></i> 
    <i class="iconfont icon-divider header-divider svelte-puyiy3"></i>
    FFServer`,n=S(),o=$("div"),s=$("div"),c=$("div"),c.textContent="File",i=S(),r=$("div"),N&&N.c(),f=S(),Z(p.$$.fragment),h=S(),a=$("div"),b&&b.c(),d(l,"class","header svelte-puyiy3"),d(c,"class","tab extra svelte-puyiy3"),oe(c,"active",e[2]),d(s,"class","tabs svelte-puyiy3"),d(r,"class","eject svelte-puyiy3"),d(o,"class","tools svelte-puyiy3"),d(a,"class","slot-wrapper svelte-puyiy3"),d(t,"class","layout svelte-puyiy3")},m(g,J){q(g,t,J),u(t,l),u(t,n),u(t,o),u(o,s),u(s,c),u(o,i),u(o,r),N&&N.m(r,null),u(t,f),Q(p,t,null),u(t,h),u(t,a),b&&b.m(a,null),m=!0,y||(C=[A(c,"click",ke(e[8])),A(r,"click",ke(e[7]))],y=!0)},p(g,[J]){J&4&&oe(c,"active",g[2]),g[2]?N?(N.p(g,J),J&4&&G(N,1)):(N=nt(g),N.c(),G(N,1),N.m(r,null)):N&&(wt(),O(N,1,1,()=>{N=null}),kt());const X={};J&2&&(X.pathSteps=g[1]),!_&&J&1&&(_=!0,X.loading=g[0],We(()=>_=!1)),p.$set(X),b&&b.p&&(!m||J&32)&&Ae(b,w,g,g[5],m?Ge(w,g[5],J,null):ze(g[5]),null)},i(g){m||(G(N),G(p.$$.fragment,g),G(b,g),m=!0)},o(g){O(N),O(p.$$.fragment,g),O(b,g),m=!1},d(g){g&&M(t),N&&N.d(),T(p),b&&b.d(g),y=!1,qe(C)}}}const ot=[{text:"Upload File",type:"upload",icon:"upload"},{text:"New Folder",type:"mkdir",icon:"new-folder"}],ql="__layout$tab-";function Ml(e,t,l){let n,{$$slots:o={},$$scope:s}=t,{pathSteps:c=[]}=t,{pathNavLoading:i=!1}=t;const r=Ue(),[,,f]=Be(ql+"File");ae(e,f,C=>l(2,n=C));function p(C){be.call(this,e,C)}const _=()=>{n?ue():(ue(),I(f,n=!0,n))},h=C=>{r("FileMenuClick",{type:C.type}),Pt().then(()=>{I(f,n=!1,n)})};function a(C){i=C,l(0,i)}function m(C){be.call(this,e,C)}function y(C){be.call(this,e,C)}return e.$$set=C=>{"pathSteps"in C&&l(1,c=C.pathSteps),"pathNavLoading"in C&&l(0,i=C.pathNavLoading),"$$scope"in C&&l(5,s=C.$$scope)},[i,c,n,r,f,s,o,p,_,h,a,m,y]}class Sl extends de{constructor(t){super();pe(this,t,Ml,kl,me,{pathSteps:1,pathNavLoading:0})}}var Oe=(e=>(e[e.Unknown=0]="Unknown",e[e["7-Zip"]=1]="7-Zip",e[e.AVI=2]="AVI",e[e.BAT=3]="BAT",e[e["Adobe Illustrator"]=4]="Adobe Illustrator",e[e.BMP=5]="BMP",e[e.CSS=6]="CSS",e[e.Conf=7]="Conf",e[e.EOT=8]="EOT",e[e["MS-Word 2007"]=9]="MS-Word 2007",e[e["MS-Word 2003"]=10]="MS-Word 2003",e[e["MS-Excel 2007"]=11]="MS-Excel 2007",e[e["MS-PPT 2003"]=12]="MS-PPT 2003",e[e.HTM=13]="HTM",e[e.HTML=14]="HTML",e[e.ICO=15]="ICO",e[e.INI=16]="INI",e[e.Jar=17]="Jar",e[e.Java=18]="Java",e[e.JPEG=19]="JPEG",e[e.JPG=20]="JPG",e[e.JavaScript=21]="JavaScript",e[e.MarkDown=22]="MarkDown",e[e.MP3=23]="MP3",e[e.MP4=24]="MP4",e[e.MP5=25]="MP5",e[e.MPGE=26]="MPGE",e[e.PDF=27]="PDF",e[e.PL=28]="PL",e[e.PNG=29]="PNG",e[e.PPT=30]="PPT",e[e["Adobe Photoshop"]=31]="Adobe Photoshop",e[e.Python=32]="Python",e[e.RAR=33]="RAR",e[e.RM=34]="RM",e[e.Shell=35]="Shell",e[e.SVG=36]="SVG",e[e.TTF=37]="TTF",e[e.TAR=38]="TAR",e[e.Text=39]="Text",e[e.WOFF=40]="WOFF",e[e.XML=41]="XML",e[e.YML=42]="YML",e[e.YAML=43]="YAML",e[e.ZIP=44]="ZIP",e[e.Binary=45]="Binary",e))(Oe||{});const Ie={"":"","7z":1,avi:2,bat:3,ai:4,bmp:5,css:6,jss:6,wxss:6,scss:6,sass:6,less:6,stylus:6,styl:6,conf:7,config:7,eot:8,docx:9,doc:10,htm:13,html:14,xhtml:14,pug:14,ejs:14,hbs:14,php:14,asp:14,jsp:14,ico:15,icon:15,jar:17,war:17,java:18,class:18,jpeg:19,jpg:20,js:21,jsx:21,coffee:21,ts:21,tsx:21,res:21,md:22,mdx:22,markdown:22,mp3:23,mp4:24,mp5:25,mpge:26,mp2:26,pdf:27,pl:28,png:29,pngx:29,ppt:12,pptx:12,psd:31,psb:31,py:32,pyd:32,pyc:32,rar:33,rm:34,sh:35,ps1:35,svg:36,ttf:37,tar:38,txt:39,text:39,xls:11,xlsx:11,woff:40,xml:41,xaml:41,yml:42,yaml:43,zip:44,bin:45,exe:45,dll:45,msi:45,so:45,msix:45},j={[0]:{icon:"file-unknown"},[1]:{icon:"file-7z"},[2]:{icon:"file-avi"},[3]:{icon:"file-bat"},[4]:{icon:"file-ai"},[5]:{icon:"file-bmp",color:"rgb(47,166,154)"},[6]:{icon:"file-css",color:"rgb(72,166,242)"},[7]:{icon:"file-conf"},[8]:{icon:"file-eot"},[9]:{icon:"file-docx",color:"rgb(11,88,153)"},[10]:{icon:"file-doc",color:"rgb(11,88,153)"},[11]:{icon:"file-xlsx",color:"rgb(11,88,153)"},[12]:{icon:"file-ppt",color:"rgb(11,88,153)"},[13]:{icon:"file-htm"},[14]:{icon:"file-html"},[15]:{icon:"file-ico"},[16]:{icon:"file-ini"},[17]:{icon:"file-jar"},[18]:{icon:"file-java",color:"rgb(241,63,60)"},[19]:{icon:"file-jepg",color:"rgb(47,166,154)"},[20]:{icon:"file-jpg",color:"rgb(47,166,154)"},[21]:{icon:"file-javascript",color:"rgb(22,137,206)"},[22]:{icon:"file-markdown"},[23]:{icon:"file-mp3"},[24]:{icon:"file-mp4"},[25]:{icon:"file-mp5"},[26]:{icon:"file-mpge"},[27]:{icon:"file-pdf"},[28]:{icon:"file-pl"},[29]:{icon:"file-png",color:"rgb(47,166,154)"},[30]:{icon:"file-ppt"},[31]:{icon:"file-psd",color:"rgb(47,166,154)"},[32]:{icon:"file-python",color:"rgb(252,215,71)"},[33]:{icon:"file-rar"},[34]:{icon:"file-rm"},[35]:{icon:"file-sh"},[36]:{icon:"file-svg"},[37]:{icon:"file-ttf"},[38]:{icon:"file-tar"},[39]:{icon:"file-text"},[40]:{icon:"file-woff"},[41]:{icon:"file-xml"},[42]:{icon:"file-yml"},[43]:{icon:"file-yaml"},[44]:{icon:"file-zip"},[45]:{icon:"file-bin"}},Ke={icon:"file-unknown"},Cl=0;async function Ce(e){try{return[await e,null]}catch(t){return[null,t]}}function it(e){let t,l,n,o,s,c;const i=e[7].default,r=He(i,e,e[6],null);return{c(){t=$("div"),r&&r.c(),d(t,"class","menu svelte-15tg8wh"),d(t,"style",l=`left:${e[3]}px;top:${e[2]}px;`)},m(f,p){q(f,t,p),r&&r.m(t,null),e[10](t),o=!0,s||(c=A(t,"click",ke(e[8])),s=!0)},p(f,p){r&&r.p&&(!o||p&64)&&Ae(r,i,f,f[6],o?Ge(i,f[6],p,null):ze(f[6]),null),(!o||p&12&&l!==(l=`left:${f[3]}px;top:${f[2]}px;`))&&d(t,"style",l)},i(f){o||(G(r,f),n||Et(()=>{n=el(t,qt,{duration:200}),n.start()}),o=!0)},o(f){O(r,f),o=!1},d(f){f&&M(t),r&&r.d(f),e[10](null),s=!1,c()}}}function Nl(e){let t,l,n,o,s,c=e[0]&&it(e);return{c(){t=S(),c&&c.c(),l=xe()},m(i,r){q(i,t,r),c&&c.m(i,r),q(i,l,r),n=!0,o||(s=A(document.body,"click",e[9]),o=!0)},p(i,[r]){i[0]?c?(c.p(i,r),r&1&&G(c,1)):(c=it(i),c.c(),G(c,1),c.m(l.parentNode,l)):c&&(wt(),O(c,1,1,()=>{c=null}),kt())},i(i){n||(G(c),n=!0)},o(i){O(c),n=!1},d(i){i&&M(t),c&&c.d(i),i&&M(l),o=!1,s()}}}function jl(e,t,l){let n,o,{$$slots:s={},$$scope:c}=t,{show:i=!0}=t,{x:r=0}=t,{y:f=0}=t,p;function _(m){be.call(this,e,m)}const h=()=>l(0,i=!1);function a(m){ye[m?"unshift":"push"](()=>{p=m,l(1,p)})}return e.$$set=m=>{"show"in m&&l(0,i=m.show),"x"in m&&l(4,r=m.x),"y"in m&&l(5,f=m.y),"$$scope"in m&&l(6,c=m.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&l(3,n=r>window.innerWidth-262-10?r-262-10:r),e.$$.dirty&34&&l(2,o=f>window.innerHeight-(p==null?void 0:p.clientHeight)?f-(p==null?void 0:p.clientHeight):f)},[i,p,o,n,r,f,c,s,_,h,a]}class ct extends de{constructor(t){super();pe(this,t,jl,Nl,me,{show:0,x:4,y:5})}}const Dl=e=>({}),rt=e=>({});function Hl(e){let t,l,n,o,s,c,i;const r=e[3].icon,f=He(r,e,e[2],rt),p=e[3].default,_=He(p,e,e[2],null);return{c(){t=$("div"),l=$("div"),f&&f.c(),n=S(),o=$("div"),_&&_.c(),d(l,"class","icon svelte-6s0tr2"),d(o,"class","text svelte-6s0tr2"),d(t,"class","item svelte-6s0tr2"),oe(t,"disabled",e[0])},m(h,a){q(h,t,a),u(t,l),f&&f.m(l,null),u(t,n),u(t,o),_&&_.m(o,null),s=!0,c||(i=A(t,"click",e[4]),c=!0)},p(h,[a]){f&&f.p&&(!s||a&4)&&Ae(f,r,h,h[2],s?Ge(r,h[2],a,Dl):ze(h[2]),rt),_&&_.p&&(!s||a&4)&&Ae(_,p,h,h[2],s?Ge(p,h[2],a,null):ze(h[2]),null),a&1&&oe(t,"disabled",h[0])},i(h){s||(G(f,h),G(_,h),s=!0)},o(h){O(f,h),O(_,h),s=!1},d(h){h&&M(t),f&&f.d(h),_&&_.d(h),c=!1,i()}}}function Al(e,t,l){let{$$slots:n={},$$scope:o}=t,{disabled:s=!1}=t;const c=Ue(),i=()=>{s||c("click")};return e.$$set=r=>{"disabled"in r&&l(0,s=r.disabled),"$$scope"in r&&l(2,o=r.$$scope)},[s,c,o,n,i]}class ce extends de{constructor(t){super();pe(this,t,Al,Hl,me,{disabled:0})}}var Ct=(e=>(e.Delete="Delete",e))(Ct||{});function Ne(e,t,l){if(!t&&e)l();else if(e)alert(t);else return}function zl(e){let t,l;const n=e[1].default,o=He(n,e,e[0],null);return{c(){t=$("div"),o&&o.c(),d(t,"class","group svelte-9j64vd")},m(s,c){q(s,t,c),o&&o.m(t,null),l=!0},p(s,[c]){o&&o.p&&(!l||c&1)&&Ae(o,n,s,s[0],l?Ge(n,s[0],c,null):ze(s[0]),null)},i(s){l||(G(o,s),l=!0)},o(s){O(o,s),l=!1},d(s){s&&M(t),o&&o.d(s)}}}function Gl(e,t,l){let{$$slots:n={},$$scope:o}=t;return e.$$set=s=>{"$$scope"in s&&l(0,o=s.$$scope)},[o,n]}class we extends de{constructor(t){super();pe(this,t,Gl,zl,me,{})}}function Qe(){alert("Functions not completed yet")}function ft(e,t,l){const n=e.slice();return n[69]=t[l],n}function at(e,t,l){const n=e.slice();return n[69]=t[l],n}function ut(e){let t,l,n,o,s=e[69].name+"",c,i,r,f=e[69].modify+"",p,_,h,a,m,y,C;function N(){return e[37](e[69])}function B(...b){return e[38](e[69],...b)}function R(){return e[40](e[69])}function w(){return e[41](e[69])}return{c(){t=$("tr"),l=$("td"),n=$("i"),o=S(),c=H(s),i=S(),r=$("td"),p=H(f),_=S(),h=$("td"),h.textContent="Folder",a=S(),m=$("td"),d(n,"class","iconfont icon-folder-fill svelte-82qceq"),d(l,"class","svelte-82qceq"),d(r,"class","svelte-82qceq"),d(h,"class","svelte-82qceq"),d(m,"class","svelte-82qceq"),d(t,"class","svelte-82qceq"),oe(t,"active",e[5]===e[69])},m(b,g){q(b,t,g),u(t,l),u(l,n),u(l,o),u(l,c),u(t,i),u(t,r),u(r,p),u(t,_),u(t,h),u(t,a),u(t,m),y||(C=[A(t,"touchend",N,{passive:!0}),A(t,"contextmenu",B),A(t,"contextmenu",e[39]),A(t,"click",ke(R)),A(t,"dblclick",w)],y=!0)},p(b,g){e=b,g[0]&256&&s!==(s=e[69].name+"")&&U(c,s),g[0]&256&&f!==(f=e[69].modify+"")&&U(p,f),g[0]&288&&oe(t,"active",e[5]===e[69])},d(b){b&&M(t),y=!1,qe(C)}}}function dt(e){let t,l,n,o,s,c,i=e[69].name+"",r,f,p,_=e[69].modify+"",h,a,m,y=Oe[e[69].fileType]+"",C,N,B,R,w=e[69].size+"",b,g,J,X;function Y(){return e[42](e[69])}function te(...x){return e[43](e[69],...x)}function he(){return e[45](e[69])}function ve(){return e[46](e[69])}return{c(){var x,F,ie,le;t=$("tr"),l=$("td"),n=$("i"),c=S(),r=H(i),f=S(),p=$("td"),h=H(_),a=S(),m=$("td"),C=H(y),N=H(" File"),B=S(),R=$("td"),b=H(w),g=S(),d(n,"class",o="iconfont icon-"+((F=(x=j==null?void 0:j[e[69].fileType])==null?void 0:x.icon)!=null?F:Ke.icon)+" svelte-82qceq"),d(n,"style",s=(ie=j==null?void 0:j[e[69].fileType])!=null&&ie.color?`color:${(le=j==null?void 0:j[e[69].fileType])==null?void 0:le.color}`:""),d(l,"class","svelte-82qceq"),d(p,"class","svelte-82qceq"),d(m,"class","svelte-82qceq"),d(R,"class","svelte-82qceq"),d(t,"class","svelte-82qceq"),oe(t,"active",e[5]===e[69])},m(x,F){q(x,t,F),u(t,l),u(l,n),u(l,c),u(l,r),u(t,f),u(t,p),u(p,h),u(t,a),u(t,m),u(m,C),u(m,N),u(t,B),u(t,R),u(R,b),u(t,g),J||(X=[A(t,"touchend",Y,{passive:!0}),A(t,"contextmenu",te),A(t,"contextmenu",e[44]),A(t,"click",ke(he)),A(t,"dblclick",ve)],J=!0)},p(x,F){var ie,le,V,ne;e=x,F[0]&128&&o!==(o="iconfont icon-"+((le=(ie=j==null?void 0:j[e[69].fileType])==null?void 0:ie.icon)!=null?le:Ke.icon)+" svelte-82qceq")&&d(n,"class",o),F[0]&128&&s!==(s=(V=j==null?void 0:j[e[69].fileType])!=null&&V.color?`color:${(ne=j==null?void 0:j[e[69].fileType])==null?void 0:ne.color}`:"")&&d(n,"style",s),F[0]&128&&i!==(i=e[69].name+"")&&U(r,i),F[0]&128&&_!==(_=e[69].modify+"")&&U(h,_),F[0]&128&&y!==(y=Oe[e[69].fileType]+"")&&U(C,y),F[0]&128&&w!==(w=e[69].size+"")&&U(b,w),F[0]&160&&oe(t,"active",e[5]===e[69])},d(x){x&&M(t),J=!1,qe(X)}}}function Ol(e){let t=e[0].length+"",l,n;return{c(){l=H(t),n=H(" Items")},m(o,s){q(o,l,s),q(o,n,s)},p(o,s){s[0]&1&&t!==(t=o[0].length+"")&&U(l,t)},d(o){o&&M(l),o&&M(n)}}}function Jl(e){let t=e[5].name+"",l;return{c(){l=H(t)},m(n,o){q(n,l,o)},p(n,o){o[0]&32&&t!==(t=n[5].name+"")&&U(l,t)},d(n){n&&M(l)}}}function pt(e){let t=Oe[e[5].fileType]+"",l,n;return{c(){l=H(t),n=H(" File")},m(o,s){q(o,l,s),q(o,n,s)},p(o,s){s[0]&32&&t!==(t=Oe[o[5].fileType]+"")&&U(l,t)},d(o){o&&M(l),o&&M(n)}}}function Xl(e){let t;return{c(){t=$("i"),d(t,"class","iconfont icon-folder svelte-82qceq")},m(l,n){q(l,t,n)},p:je,d(l){l&&M(t)}}}function Wl(e){let t;function l(s,c){return s[5].type==="folder"?Vl:Bl}let n=l(e),o=n(e);return{c(){o.c(),t=xe()},m(s,c){o.m(s,c),q(s,t,c)},p(s,c){n===(n=l(s))&&o?o.p(s,c):(o.d(1),o=n(s),o&&(o.c(),o.m(t.parentNode,t)))},d(s){o.d(s),s&&M(t)}}}function Bl(e){let t,l,n;return{c(){var o,s,c,i;t=$("i"),d(t,"class",l="iconfont icon-"+((s=(o=j==null?void 0:j[e[5].fileType])==null?void 0:o.icon)!=null?s:Ke.icon)+" svelte-82qceq"),d(t,"style",n=(c=j==null?void 0:j[e[5].fileType])!=null&&c.color?`color:${(i=j==null?void 0:j[e[5].fileType])==null?void 0:i.color}`:"")},m(o,s){q(o,t,s)},p(o,s){var c,i,r,f;s[0]&32&&l!==(l="iconfont icon-"+((i=(c=j==null?void 0:j[o[5].fileType])==null?void 0:c.icon)!=null?i:Ke.icon)+" svelte-82qceq")&&d(t,"class",l),s[0]&32&&n!==(n=(r=j==null?void 0:j[o[5].fileType])!=null&&r.color?`color:${(f=j==null?void 0:j[o[5].fileType])==null?void 0:f.color}`:"")&&d(t,"style",n)},d(o){o&&M(t)}}}function Vl(e){let t;return{c(){t=$("i"),d(t,"class","iconfont icon-folder-fill svelte-82qceq")},m(l,n){q(l,t,n)},p:je,d(l){l&&M(t)}}}function mt(e){let t,l,n,o=e[5].modify+"",s,c,i,r,f,p=e[5].created+"",_,h,a=e[5].type==="file"&&ht(e);return{c(){t=$("div"),l=$("class"),n=H("Modififaction Time:"),s=H(o),c=S(),a&&a.c(),i=S(),r=$("div"),f=H("Created Time:"),_=H(p),d(l,"class","item svelte-82qceq"),d(r,"class","item svelte-82qceq"),d(t,"class","others svelte-82qceq"),d(t,"style",h=`width:${e[1]-40}px`)},m(m,y){q(m,t,y),u(t,l),u(l,n),u(l,s),u(t,c),a&&a.m(t,null),u(t,i),u(t,r),u(r,f),u(r,_)},p(m,y){y[0]&32&&o!==(o=m[5].modify+"")&&U(s,o),m[5].type==="file"?a?a.p(m,y):(a=ht(m),a.c(),a.m(t,i)):a&&(a.d(1),a=null),y[0]&32&&p!==(p=m[5].created+"")&&U(_,p),y[0]&2&&h!==(h=`width:${m[1]-40}px`)&&d(t,"style",h)},d(m){m&&M(t),a&&a.d()}}}function ht(e){let t,l,n=e[5].size+"",o;return{c(){t=$("div"),l=H("Size:"),o=H(n),d(t,"class","item svelte-82qceq")},m(s,c){q(s,t,c),u(t,l),u(t,o)},p(s,c){c[0]&32&&n!==(n=s[5].size+"")&&U(o,n)},d(s){s&&M(t)}}}function _t(e){let t,l,n=e[5].type+"",o,s,c,i=e[5].type==="file"&&vt(e);return{c(){t=$("div"),l=H("Selected 1 "),o=H(n),s=S(),i&&i.c(),c=xe(),d(t,"class","info svelte-82qceq")},m(r,f){q(r,t,f),u(t,l),u(t,o),q(r,s,f),i&&i.m(r,f),q(r,c,f)},p(r,f){f[0]&32&&n!==(n=r[5].type+"")&&U(o,n),r[5].type==="file"?i?i.p(r,f):(i=vt(r),i.c(),i.m(c.parentNode,c)):i&&(i.d(1),i=null)},d(r){r&&M(t),r&&M(s),i&&i.d(r),r&&M(c)}}}function vt(e){let t,l=e[5].size+"",n;return{c(){t=$("div"),n=H(l),d(t,"class","info svelte-82qceq")},m(o,s){q(o,t,s),u(t,n)},p(o,s){s[0]&32&&l!==(l=o[5].size+"")&&U(n,l)},d(o){o&&M(t)}}}function Kl(e){let t,l,n,o,s,c,i,r,f,p,_,h,a,m,y,C,N,B,R,w,b,g,J,X,Y,te=e[0].length+"",he,ve,x,F,ie,le=e[8],V=[];for(let k=0;k<le.length;k+=1)V[k]=ut(at(e,le,k));let ne=e[7],W=[];for(let k=0;k<ne.length;k+=1)W[k]=dt(ft(e,ne,k));function $e(k,K){return k[5]?Jl:Ol}let re=$e(e),L=re(e),ee=e[5]&&e[5].type==="file"&&pt(e);function Te(k,K){return k[5]?Wl:Xl}let fe=Te(e),se=fe(e),P=e[5]&&mt(e),E=e[5]&&_t(e);return{c(){t=$("div"),l=$("div"),n=$("div"),o=$("table"),s=$("thead"),s.innerHTML=`<tr class="svelte-82qceq"><th class="svelte-82qceq">Name</th> 
              <th class="svelte-82qceq">Modififaction Time</th> 
              <th class="svelte-82qceq">Type</th> 
              <th class="svelte-82qceq">Size</th></tr>`,c=S(),i=$("tbody");for(let k=0;k<V.length;k+=1)V[k].c();r=S();for(let k=0;k<W.length;k+=1)W[k].c();f=S(),p=$("div"),_=$("div"),h=S(),a=$("div"),m=$("div"),L.c(),C=S(),N=$("div"),ee&&ee.c(),R=S(),w=$("div"),se.c(),g=S(),P&&P.c(),J=S(),X=$("div"),Y=$("div"),he=H(te),ve=H(" Items"),x=S(),E&&E.c(),d(s,"class","svelte-82qceq"),d(o,"class","svelte-82qceq"),d(n,"class","file-list svelte-82qceq"),d(_,"class","moveable svelte-82qceq"),d(_,"draggable",!1),oe(_,"active",e[3]),d(m,"class","title svelte-82qceq"),d(m,"style",y=`width:${e[1]-40}px`),d(N,"class","type svelte-82qceq"),d(N,"style",B=`width:${e[1]-40}px`),d(w,"class","icon svelte-82qceq"),d(w,"style",b=`width:${e[1]-40}px`),d(a,"class","data svelte-82qceq"),d(p,"class","file-info svelte-82qceq"),d(l,"class","content svelte-82qceq"),d(Y,"class","info svelte-82qceq"),d(X,"class","footer svelte-82qceq"),d(t,"class","container svelte-82qceq"),d(t,"draggable",!1)},m(k,K){q(k,t,K),u(t,l),u(l,n),u(n,o),u(o,s),u(o,c),u(o,i);for(let D=0;D<V.length;D+=1)V[D].m(i,null);u(i,r);for(let D=0;D<W.length;D+=1)W[D].m(i,null);u(l,f),u(l,p),u(p,_),u(p,h),u(p,a),u(a,m),L.m(m,null),u(a,C),u(a,N),ee&&ee.m(N,null),u(a,R),u(a,w),se.m(w,null),u(a,g),P&&P.m(a,null),e[50](p),u(t,J),u(t,X),u(X,Y),u(Y,he),u(Y,ve),u(X,x),E&&E.m(X,null),F||(ie=[A(o,"contextmenu",ke(De(e[35]))),A(n,"click",e[47]),A(n,"contextmenu",e[48]),A(_,"mousedown",e[49]),A(l,"contextmenu",De(e[51])),A(t,"blur",e[18]),A(t,"mouseup",e[18])],F=!0)},p(k,K){if(K[0]&538912){le=k[8];let D;for(D=0;D<le.length;D+=1){const _e=at(k,le,D);V[D]?V[D].p(_e,K):(V[D]=ut(_e),V[D].c(),V[D].m(i,r))}for(;D<V.length;D+=1)V[D].d(1);V.length=le.length}if(K[0]&114848){ne=k[7];let D;for(D=0;D<ne.length;D+=1){const _e=ft(k,ne,D);W[D]?W[D].p(_e,K):(W[D]=dt(_e),W[D].c(),W[D].m(i,null))}for(;D<W.length;D+=1)W[D].d(1);W.length=ne.length}K[0]&8&&oe(_,"active",k[3]),re===(re=$e(k))&&L?L.p(k,K):(L.d(1),L=re(k),L&&(L.c(),L.m(m,null))),K[0]&2&&y!==(y=`width:${k[1]-40}px`)&&d(m,"style",y),k[5]&&k[5].type==="file"?ee?ee.p(k,K):(ee=pt(k),ee.c(),ee.m(N,null)):ee&&(ee.d(1),ee=null),K[0]&2&&B!==(B=`width:${k[1]-40}px`)&&d(N,"style",B),fe===(fe=Te(k))&&se?se.p(k,K):(se.d(1),se=fe(k),se&&(se.c(),se.m(w,null))),K[0]&2&&b!==(b=`width:${k[1]-40}px`)&&d(w,"style",b),k[5]?P?P.p(k,K):(P=mt(k),P.c(),P.m(a,null)):P&&(P.d(1),P=null),K[0]&1&&te!==(te=k[0].length+"")&&U(he,te),k[5]?E?E.p(k,K):(E=_t(k),E.c(),E.m(X,null)):E&&(E.d(1),E=null)},d(k){k&&M(t),Ve(V,k),Ve(W,k),L.d(),ee&&ee.d(),se.d(),P&&P.d(),e[50](null),E&&E.d(),F=!1,qe(ie)}}}function Zl(e){let t;return{c(){t=H("Cut")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Ql(e){let t,l;return t=new ce({props:{$$slots:{default:[Zl]},$$scope:{ctx:e}}}),t.$on("click",Qe),t.$on("click",e[53]),{c(){Z(t.$$.fragment)},m(n,o){Q(t,n,o),l=!0},p(n,o){const s={};o[2]&4096&&(s.$$scope={dirty:o,ctx:n}),t.$set(s)},i(n){l||(G(t.$$.fragment,n),l=!0)},o(n){O(t.$$.fragment,n),l=!1},d(n){T(t,n)}}}function Tl(e){let t;return{c(){t=H("Rename")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Ll(e){let t;return{c(){t=H("Delete")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Fl(e){let t,l,n,o;return t=new ce({props:{$$slots:{default:[Tl]},$$scope:{ctx:e}}}),t.$on("click",e[26]),t.$on("click",e[54]),n=new ce({props:{$$slots:{default:[Ll]},$$scope:{ctx:e}}}),n.$on("click",e[55]),n.$on("click",e[23]),{c(){Z(t.$$.fragment),l=S(),Z(n.$$.fragment)},m(s,c){Q(t,s,c),q(s,l,c),Q(n,s,c),o=!0},p(s,c){const i={};c[2]&4096&&(i.$$scope={dirty:c,ctx:s}),t.$set(i);const r={};c[2]&4096&&(r.$$scope={dirty:c,ctx:s}),n.$set(r)},i(s){o||(G(t.$$.fragment,s),G(n.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),O(n.$$.fragment,s),o=!1},d(s){T(t,s),s&&M(l),T(n,s)}}}function Il(e){let t;return{c(){t=H("Download")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Rl(e){let t;return{c(){t=$("i"),d(t,"slot","icon"),d(t,"class","iconfont icon-download"),Pe(t,"color","#067fdb")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Yl(e){let t;return{c(){t=H("Create Download QRCode")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function Ul(e){let t;return{c(){t=$("i"),d(t,"slot","icon"),d(t,"class","iconfont icon-qrcode"),Pe(t,"color","#333")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function xl(e){let t,l,n,o;return t=new ce({props:{$$slots:{icon:[Rl],default:[Il]},$$scope:{ctx:e}}}),t.$on("click",e[56]),t.$on("click",e[57]),n=new ce({props:{$$slots:{icon:[Ul],default:[Yl]},$$scope:{ctx:e}}}),n.$on("click",Qe),n.$on("click",e[58]),{c(){Z(t.$$.fragment),l=S(),Z(n.$$.fragment)},m(s,c){Q(t,s,c),q(s,l,c),Q(n,s,c),o=!0},p(s,c){const i={};c[2]&4096&&(i.$$scope={dirty:c,ctx:s}),t.$set(i);const r={};c[2]&4096&&(r.$$scope={dirty:c,ctx:s}),n.$set(r)},i(s){o||(G(t.$$.fragment,s),G(n.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),O(n.$$.fragment,s),o=!1},d(s){T(t,s),s&&M(l),T(n,s)}}}function Pl(e){let t,l,n,o,s,c;return t=new we({props:{$$slots:{default:[Ql]},$$scope:{ctx:e}}}),n=new we({props:{$$slots:{default:[Fl]},$$scope:{ctx:e}}}),s=new we({props:{$$slots:{default:[xl]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment),l=S(),Z(n.$$.fragment),o=S(),Z(s.$$.fragment)},m(i,r){Q(t,i,r),q(i,l,r),Q(n,i,r),q(i,o,r),Q(s,i,r),c=!0},p(i,r){const f={};r[0]&65536|r[2]&4096&&(f.$$scope={dirty:r,ctx:i}),t.$set(f);const p={};r[0]&65536|r[2]&4096&&(p.$$scope={dirty:r,ctx:i}),n.$set(p);const _={};r[0]&65568|r[2]&4096&&(_.$$scope={dirty:r,ctx:i}),s.$set(_)},i(i){c||(G(t.$$.fragment,i),G(n.$$.fragment,i),G(s.$$.fragment,i),c=!0)},o(i){O(t.$$.fragment,i),O(n.$$.fragment,i),O(s.$$.fragment,i),c=!1},d(i){T(t,i),i&&M(l),T(n,i),i&&M(o),T(s,i)}}}function El(e){let t;return{c(){t=H("Cut")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function en(e){let t,l;return t=new ce({props:{$$slots:{default:[El]},$$scope:{ctx:e}}}),t.$on("click",Qe),t.$on("click",e[60]),{c(){Z(t.$$.fragment)},m(n,o){Q(t,n,o),l=!0},p(n,o){const s={};o[2]&4096&&(s.$$scope={dirty:o,ctx:n}),t.$set(s)},i(n){l||(G(t.$$.fragment,n),l=!0)},o(n){O(t.$$.fragment,n),l=!1},d(n){T(t,n)}}}function tn(e){let t;return{c(){t=H("Rename")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function ln(e){let t;return{c(){t=H("Delete")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function nn(e){let t,l,n,o;return t=new ce({props:{$$slots:{default:[tn]},$$scope:{ctx:e}}}),t.$on("click",e[26]),t.$on("click",e[61]),n=new ce({props:{$$slots:{default:[ln]},$$scope:{ctx:e}}}),n.$on("click",e[62]),n.$on("click",e[24]),{c(){Z(t.$$.fragment),l=S(),Z(n.$$.fragment)},m(s,c){Q(t,s,c),q(s,l,c),Q(n,s,c),o=!0},p(s,c){const i={};c[2]&4096&&(i.$$scope={dirty:c,ctx:s}),t.$set(i);const r={};c[2]&4096&&(r.$$scope={dirty:c,ctx:s}),n.$set(r)},i(s){o||(G(t.$$.fragment,s),G(n.$$.fragment,s),o=!0)},o(s){O(t.$$.fragment,s),O(n.$$.fragment,s),o=!1},d(s){T(t,s),s&&M(l),T(n,s)}}}function sn(e){let t;return{c(){t=H("Create Share QRCode")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function on(e){let t;return{c(){t=$("i"),d(t,"slot","icon"),d(t,"class","iconfont icon-qrcode"),Pe(t,"color","#333")},m(l,n){q(l,t,n)},d(l){l&&M(t)}}}function cn(e){let t,l;return t=new ce({props:{$$slots:{icon:[on],default:[sn]},$$scope:{ctx:e}}}),t.$on("click",Qe),t.$on("click",e[63]),{c(){Z(t.$$.fragment)},m(n,o){Q(t,n,o),l=!0},p(n,o){const s={};o[2]&4096&&(s.$$scope={dirty:o,ctx:n}),t.$set(s)},i(n){l||(G(t.$$.fragment,n),l=!0)},o(n){O(t.$$.fragment,n),l=!1},d(n){T(t,n)}}}function rn(e){let t,l,n,o,s,c;return t=new we({props:{$$slots:{default:[en]},$$scope:{ctx:e}}}),n=new we({props:{$$slots:{default:[nn]},$$scope:{ctx:e}}}),s=new we({props:{$$slots:{default:[cn]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment),l=S(),Z(n.$$.fragment),o=S(),Z(s.$$.fragment)},m(i,r){Q(t,i,r),q(i,l,r),Q(n,i,r),q(i,o,r),Q(s,i,r),c=!0},p(i,r){const f={};r[0]&8192|r[2]&4096&&(f.$$scope={dirty:r,ctx:i}),t.$set(f);const p={};r[0]&8192|r[2]&4096&&(p.$$scope={dirty:r,ctx:i}),n.$set(p);const _={};r[0]&8192|r[2]&4096&&(_.$$scope={dirty:r,ctx:i}),s.$set(_)},i(i){c||(G(t.$$.fragment,i),G(n.$$.fragment,i),G(s.$$.fragment,i),c=!0)},o(i){O(t.$$.fragment,i),O(n.$$.fragment,i),O(s.$$.fragment,i),c=!1},d(i){T(t,i),i&&M(l),T(n,i),i&&M(o),T(s,i)}}}function fn(e){let t,l,n,o,s,c,i,r,f,p,_,h,a;function m(w){e[52](w)}let y={pathSteps:e[9],$$slots:{default:[Kl]},$$scope:{ctx:e}};e[6]!==void 0&&(y.pathNavLoading=e[6]),l=new Sl({props:y}),ye.push(()=>Xe(l,"pathNavLoading",m)),l.$on("refresh",e[20]),l.$on("changeNav",e[20]),l.$on("FileMenuClick",e[21]);function C(w){e[59](w)}let N={x:e[14],y:e[15],$$slots:{default:[Pl]},$$scope:{ctx:e}};e[16]!==void 0&&(N.show=e[16]),c=new ct({props:N}),ye.push(()=>Xe(c,"show",C));function B(w){e[64](w)}let R={x:e[11],y:e[12],$$slots:{default:[rn]},$$scope:{ctx:e}};return e[13]!==void 0&&(R.show=e[13]),f=new ct({props:R}),ye.push(()=>Xe(f,"show",B)),{c(){t=S(),Z(l.$$.fragment),o=S(),s=$("div"),Z(c.$$.fragment),r=S(),Z(f.$$.fragment),d(s,"class","contentmenus")},m(w,b){q(w,t,b),Q(l,w,b),q(w,o,b),q(w,s,b),Q(c,s,null),u(s,r),Q(f,s,null),_=!0,h||(a=[A(window,"hashchange",e[22]),A(document.body,"contextmenu",De(e[36])),A(document.body,"keyup",e[25]),A(document.body,"blur",e[18]),A(document.body,"mouseup",e[18]),A(document.body,"mousemove",e[17])],h=!0)},p(w,b){const g={};b[0]&512&&(g.pathSteps=w[9]),b[0]&130495|b[2]&4096&&(g.$$scope={dirty:b,ctx:w}),!n&&b[0]&64&&(n=!0,g.pathNavLoading=w[6],We(()=>n=!1)),l.$set(g);const J={};b[0]&16384&&(J.x=w[14]),b[0]&32768&&(J.y=w[15]),b[0]&65568|b[2]&4096&&(J.$$scope={dirty:b,ctx:w}),!i&&b[0]&65536&&(i=!0,J.show=w[16],We(()=>i=!1)),c.$set(J);const X={};b[0]&2048&&(X.x=w[11]),b[0]&4096&&(X.y=w[12]),b[0]&8192|b[2]&4096&&(X.$$scope={dirty:b,ctx:w}),!p&&b[0]&8192&&(p=!0,X.show=w[13],We(()=>p=!1)),f.$set(X)},i(w){_||(G(l.$$.fragment,w),G(c.$$.fragment,w),G(f.$$.fragment,w),_=!0)},o(w){O(l.$$.fragment,w),O(c.$$.fragment,w),O(f.$$.fragment,w),_=!1},d(w){w&&M(t),T(l,w),w&&M(o),w&&M(s),T(c),T(f),h=!1,qe(a)}}}let $t,gt;function an(e,t,l){let n,o,s,c,i,r,f,p,_,h,{params:a={wild:""}}=t;const m=v=>ll(v).format("YYYY/MM/DD HH:mm");let y=278,C=0,N=!1,B;const R=v=>{if(N){const z=v.pageX-C;l(4,B.style.width=`${y-z}px`,B)}},w=()=>{var v;l(3,N=!1),l(1,y=(v=B.clientWidth)!=null?v:278)};let b=[],g=null;const J=v=>{let z=location.hash.replace("#/","/");v.name[0]==="/"?z+=v.name:z+="/"+v.name,Re(z).then(()=>{Y()})};let X=!1;const Y=()=>{clearTimeout($t),clearTimeout(gt),l(6,X=!0),$t=setTimeout(()=>{l(0,b=[]),dl(te()).then(v=>{l(0,b=v.map(z=>{var ge;if(z.type==="folder")return{type:"folder",name:z.name,modify:m(z.mtime),created:m(z.ctime)};{const Se=z.name.split(".");return{type:"file",name:z.name,modify:m(z.mtime),created:m(z.ctime),size:z.size,fileType:(ge=Ie==null?void 0:Ie[Se.at(-1).toLowerCase()])!=null?ge:Cl,download:`${te()}/${z.name}`}}}))}).catch(v=>{console.log(v),bt()}).finally(()=>{gt=setTimeout(()=>{l(6,X=!1)},2e3)})},300)};tl(()=>{Y()});const te=()=>location.hash.replace("#/folder","/").replace("//","/"),he=async v=>{const{type:z}=v.detail;if(z==="mkdir"){const[ge,Se]=await Ce(hl(te()));Ne(ge,Se,Y)}else if(z==="upload"){const[ge,Se]=await Ce(_l(te()));Ne(ge,Se,Y)}},ve=async()=>{Y()},x=async()=>{if(g.type==="file"){const[v,z]=await Ce(pl(te()+"/"+g.name,g.name));Ne(v,z,Y)}},F=async()=>{if(g.type==="folder"){const[v,z]=await Ce(ml(te()+"/"+g.name,g.name));Ne(v,z,Y)}},ie=async v=>{v.shiftKey&&v.key===Ct.Delete&&g&&x()},le=async()=>{if(g){const[v,z]=await Ce(vl(te()+"/"+g.name,g.name,g.type));Ne(v,z,Y)}},[V,ne,W]=Be("file");ae(e,V,v=>l(14,p=v)),ae(e,ne,v=>l(15,_=v)),ae(e,W,v=>l(16,h=v));const[$e,re,L]=Be("folder");ae(e,$e,v=>l(11,i=v)),ae(e,re,v=>l(12,r=v)),ae(e,L,v=>l(13,f=v));const[ee,Te,fe]=Be("system");ae(e,fe,v=>l(10,c=v));function se(v){be.call(this,e,v)}function P(v){be.call(this,e,v)}const E=v=>{g===v&&J(v)},k=(v,z)=>{l(5,g=v),I($e,i=z.clientX,i),I(re,r=z.clientY,r)},K=()=>{ue(),I(L,f=!0,f)},D=v=>{l(5,g=v),ue()},_e=v=>J(v),Nt=v=>{g===v&&Fe(v.download,v.name)},jt=(v,z)=>{l(5,g=v),I(V,p=z.clientX,p),I(ne,_=z.clientY,_)},Dt=()=>{ue(),I(W,h=!0,h)},Ht=v=>{l(5,g=v),ue()},At=v=>Fe(v.download,v.name),zt=()=>{ue(),l(5,g=null)},Gt=()=>{l(5,g=null),I(fe,c=!0,c)},Ot=v=>{l(1,y=B.clientWidth),l(3,N=!0),l(2,C=v.pageX)};function Jt(v){ye[v?"unshift":"push"](()=>{B=v,l(4,B)})}const Xt=()=>{ue()};function Wt(v){X=v,l(6,X)}const Bt=()=>I(W,h=!1,h),Vt=()=>I(W,h=!1,h),Kt=()=>I(W,h=!1,h),Zt=()=>{g&&g.type==="file"&&Fe(g.download,g.name)},Qt=()=>I(W,h=!1,h),Tt=()=>I(W,h=!1,h);function Lt(v){h=v,W.set(h)}const Ft=()=>I(L,f=!1,f),It=()=>I(L,f=!1,f),Rt=()=>I(L,f=!1,f),Yt=()=>I(L,f=!1,f);function Ut(v){f=v,L.set(f)}return e.$$set=v=>{"params"in v&&l(34,a=v.params)},e.$$.update=()=>{e.$$.dirty[1]&8&&l(9,n=a.wild.split("/").filter(v=>!!v)),e.$$.dirty[0]&1&&l(8,o=b.filter(v=>v.type==="folder")),e.$$.dirty[0]&1&&l(7,s=b.filter(v=>v.type==="file"))},[b,y,C,N,B,g,X,s,o,n,c,i,r,f,p,_,h,R,w,J,Y,he,ve,x,F,ie,le,V,ne,W,$e,re,L,fe,a,se,P,E,k,K,D,_e,Nt,jt,Dt,Ht,At,zt,Gt,Ot,Jt,Xt,Wt,Bt,Vt,Kt,Zt,Qt,Tt,Lt,Ft,It,Rt,Yt,Ut]}class yt extends de{constructor(t){super();pe(this,t,an,fn,me,{params:34},null,[-1,-1,-1])}}function un(e){return nl("/folder"),[]}class dn extends de{constructor(t){super();pe(this,t,un,null,me,{})}}var pn={"/folder":yt,"/folder/*":yt,"*":dn};function mn(e){let t,l;return t=new sl({props:{routes:pn}}),{c(){Z(t.$$.fragment)},m(n,o){Q(t,n,o),l=!0},p:je,i(n){l||(G(t.$$.fragment,n),l=!0)},o(n){O(t.$$.fragment,n),l=!1},d(n){T(t,n)}}}class hn extends de{constructor(t){super();pe(this,t,null,mn,me,{})}}new hn({target:document.getElementById("app")});export{_n as __vite_legacy_guard};
